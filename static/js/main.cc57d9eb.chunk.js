(this.webpackJsonpbasereactsaga=this.webpackJsonpbasereactsaga||[]).push([[0],{277:function(e,t,r){e.exports=r(306)},305:function(e,t,r){},306:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r(65),a=r(100),c=r(179),s=Object(c.b)();function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=[s],i=[a.a.apply(void 0,r)],l=Object(a.c)(t(),Object(n.fromJS)(e),a.b.apply(void 0,i));return l.runSaga=s.run,l.close=function(){return l.dispatch(c.a)},l}},33:function(e,t,r){"use strict";r.r(t),r.d(t,"NEXT",(function(){return n})),r.d(t,"PREV",(function(){return a}));var n="NEXT",a="PREV"},333:function(e,t,r){},336:function(e,t,r){},337:function(e,t,r){},342:function(e,t,r){},36:function(e,t,r){"use strict";r.r(t);var n={LOAD_ADMIN:"admin/LOAD_ADMIN",ADMIN_LOADING:"admin/ADMIN_LOADING",ADMIN_LOADED:"admin/ADMIN_LOADED",AUTH_ERROR:"admin/AUTH_ERROR",LOGIN:"admin/LOGIN",LOGIN_SUCCESS:"admin/LOGIN_SUCCESS",LOGIN_FAIL:"admin/LOGIN_FAIL",LOGOUT:"admin/LOGOUT",LOGOUT_SUCCESS:"admin/LOGOUT_SUCCESS",CHANGE_PASSWORD:"admin/CHANGE_PASSWORD",UPDATE_ADMIN:"admin/UPDATE_ADMIN",UPDATE_ADMIN_SUCCESS:"admin/UPDATE_ADMIN_SUCCESS"};t.default=n},360:function(e,t,r){},361:function(e,t,r){},362:function(e,t,r){},363:function(e,t,r){},364:function(e,t,r){},365:function(e,t,r){},374:function(e,t,r){},375:function(e,t,r){},376:function(e,t,r){},386:function(e,t,r){},387:function(e,t,r){},388:function(e,t,r){},391:function(e,t,r){},392:function(e,t,r){},394:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(22),s=r.n(c),i=r(17),l=(r(305),r(9)),o=r(14),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var b="BJHyU8y3LWW1gVABQsOlfBhgo5hVDvAathO4WJWKbyDzLk6d2NW5sp92TWi4C95KjLQrBdX-jijAkHmmo1pd94Y";function j(){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(Object(l.a)().mark((function e(){var t,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:b});case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return"serviceWorker"in navigator&&"PushManager"in window}var O=r(277),f=r.n(O),g=r(4),v=r(278),w=r(23),y=r.n(w),N=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/admin/amount",{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/admin",{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("/api/admin/changePw/".concat(t),r,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("/api/admin/changePwAdmin",t,{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("/api/admin/",t,{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r,n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.loginID,n=t.password,e.next=3,y.a.post("/api/admin/auth",{loginID:r,password:n},{withCredentials:!0});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/admin/deleteCookie",{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=r(82),L=r(15),R=r(52),U=r(36),I=Object(l.a)().mark(re),F=Object(l.a)().mark(ne),P=Object(l.a)().mark(ae),G=Object(l.a)().mark(ce),D=Object(l.a)().mark(se),M=Object(l.a)().mark(ie),V=R.errorActions.getErrors,W=R.errorActions.clearErrors,B=Object(T.a)(U.default.LOAD_ADMIN),H=Object(T.a)(U.default.ADMIN_LOADING),z=Object(T.a)(U.default.ADMIN_LOADED),J=Object(T.a)(U.default.AUTH_ERROR),X=Object(T.a)(U.default.LOGIN),q=Object(T.a)(U.default.LOGIN_SUCCESS),K=Object(T.a)(U.default.LOGIN_FAIL),Q=Object(T.a)(U.default.LOGOUT),Z=Object(T.a)(U.default.LOGOUT_SUCCESS),$=Object(T.a)(U.default.UPDATE_ADMIN),Y=Object(T.a)(U.default.UPDATE_ADMIN_SUCCESS),ee=Object(T.a)(U.default.CHANGE_PASSWORD),te={loadAdmin:B,login:X,logout:Q,changePasswordAdmin:ee,updateAdmin:$};function re(){var e;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(L.c)(H());case 3:return t.next=5,Object(L.b)(_);case 5:return e=t.sent,t.next=8,Object(L.c)(z(e.data));case 8:t.next=16;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(L.c)(V({msg:t.t0.response.data,status:t.t0.response.status,id:null}));case 14:return t.next=16,Object(L.c)(J());case 16:case"end":return t.stop()}}),I,null,[[0,10]])}function ne(e){var t;return Object(l.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(L.b)(E,e.payload);case 3:return t=r.sent,r.next=6,Object(L.c)(q(t.data));case 6:return r.next=8,Object(L.c)(W());case 8:r.next=17;break;case 10:return r.prev=10,r.t0=r.catch(0),console.log(r.t0),r.next=15,Object(L.c)(V({msg:r.t0.response.data,status:r.t0.response.status,id:"LOGIN_FAIL"}));case 15:return r.next=17,Object(L.c)(K());case 17:case"end":return r.stop()}}),F,null,[[0,10]])}function ae(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(L.b)(A);case 3:return e.next=5,Object(L.c)(Z());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),P,null,[[0,7]])}function ce(e){var t;return Object(l.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(L.c)(H());case 3:return r.next=5,Object(L.b)(C,e.payload);case 5:return t=r.sent,r.next=8,Object(L.c)(Y(t.data));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log(r.t0);case 13:case"end":return r.stop()}}),G,null,[[0,10]])}function se(e){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(L.b)(S,e.payload);case 3:return t.next=5,Object(L.c)(Q());case 5:return t.next=7,Object(L.c)(W());case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.next=14,Object(L.c)(V({msg:t.t0.response.data,status:t.t0.response.status,id:"CHANGE_PASSWORD_FAIL"}));case 14:case"end":return t.stop()}}),D,null,[[0,9]])}function ie(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.d)(U.default.LOAD_ADMIN,re);case 2:return e.next=4,Object(L.d)(U.default.LOGIN,ne);case 4:return e.next=6,Object(L.d)(U.default.LOGOUT,ae);case 6:return e.next=8,Object(L.d)(U.default.UPDATE_ADMIN,ce);case 8:return e.next=10,Object(L.d)(U.default.CHANGE_PASSWORD,se);case 10:case"end":return e.stop()}}),M)}var le,oe,ue=r(13),de=r(65).fromJS,be=r(77).handleActions,je=r(36).default,me=function(e){return e.getIn(["admin","isAuthenticated"])},pe=function(e){return e.getIn(["admin","isLoading"])},xe=function(e){return e.getIn(["admin","admin"])},he=de({isAuthenticated:null,isLoading:!1,admin:null}),Oe=function(e,t){return e.set("isAuthenticated",!0).set("isLoading",!1).set("admin",de(t.payload))},fe=function(e){return e.set("isAuthenticated",!1).set("isLoading",!1).set("admin",null)},ge=be((le={},Object(ue.a)(le,je.ADMIN_LOADING,(function(e){return e.set("isLoading",!0)})),Object(ue.a)(le,je.ADMIN_LOADED,Oe),Object(ue.a)(le,je.LOGIN_SUCCESS,Oe),Object(ue.a)(le,je.UPDATE_ADMIN_SUCCESS,Oe),Object(ue.a)(le,je.LOGIN_FAIL,fe),Object(ue.a)(le,je.AUTH_ERROR,fe),Object(ue.a)(le,je.LOGOUT_SUCCESS,fe),le),he),ve=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/categories",{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/categories",t,{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=r(72),Ne=Object(l.a)().mark(Le),_e=Object(l.a)().mark(Re),ke=Object(T.a)(ye.default.GET_CATEGORIES),Se=Object(T.a)(ye.default.GET_CATEGORIES_START),Ce=Object(T.a)(ye.default.GET_CATEGORIES_STOP),Ee=Object(T.a)(ye.default.GET_CATEGORIES_SUCCESS),Ae=Object(T.a)(ye.default.GET_CATEGORIES_FAIL),Te={getCategories:ke};function Le(){var e;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(L.c)(Se());case 3:return t.next=5,Object(L.b)(ve);case 5:return e=t.sent,t.next=8,Object(L.c)(Ee(e.data));case 8:return t.next=10,Object(L.c)(Ce());case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(0),t.next=16,Object(L.c)(Ae());case 16:case"end":return t.stop()}}),Ne,null,[[0,12]])}function Re(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.d)(ye.default.GET_CATEGORIES,Le);case 2:case"end":return e.stop()}}),_e)}var Ue=r(65).fromJS,Ie=r(77).handleActions,Fe=r(72).default,Pe=function(e){return e.getIn(["category","categories"])},Ge=function(e){return e.getIn(["category","loading"])},De=Ue({categories:[],loading:!0}),Me=Ie((oe={},Object(ue.a)(oe,Fe.GET_CATEGORIES_START,(function(e){return e.set("loading",!0)})),Object(ue.a)(oe,Fe.GET_CATEGORIES_STOP,(function(e){return e.set("loading",!1)})),Object(ue.a)(oe,Fe.GET_CATEGORIES_SUCCESS,(function(e,t){return e.set("categories",Ue(t.payload))})),Object(ue.a)(oe,Fe.GET_CATEGORIES_FAIL,(function(e){return e.set("categories",[])})),oe),De),Ve=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/user",{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/user/filter".concat(t),{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/user/auth",t,{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/user/googleLogin",{tokenId:t},{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/user/facebookLogin",{accessToken:t,userID:r},{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Je=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/user/register",t,{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/user/registerNoRes",t,{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/user/deleteCookie",{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("/api/user/".concat(t),r,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("/api/user/changePw/".concat(t),r,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("/api/user/forgotPassword",{email:t},{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("/api/user/resetPassword",{resetLink:t,newPassword:r},{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ye={LOAD_USER:"user/LOAD_USER",USER_LOADING:"user/USER_LOADING",USER_LOADED:"user/USER_LOADED",AUTH_ERROR:"user/AUTH_ERROR",LOGIN:"user/LOGIN",LOGIN_GOOGLE:"user/LOGIN_GOOLE",LOGIN_FACEBOOK:"user/LOGIN_FACEBOOK",LOGIN_SUCCESS:"user/LOGIN_SUCCESS",LOGIN_FAIL:"user/LOGIN_FAIL",LOGIN_GOOGLE_SUCCESS:"user/LOGIN_GOOGLE_SUCCESS",LOGIN_GOOGLE_FAIL:"user/LOGIN_GOOGLE_FAIL",LOGIN_FACEBOOK_SUCCESS:"user/LOGIN_FACEBOOK_SUCCESS",LOGIN_FACEBOOK_FAIL:"user/LOGIN_FACEBOOK_FAIL;",REGISTER:"user/REGISTER",REGISTER_SUCCESS:"user/REGISTER_SUCCESS",REGISTER_FAIL:"user/REGISTER_FAIL",LOGOUT:"user/LOGOUT",LOGOUT_SUCCESS:"user/LOGOUT_SUCCESS",UPDATE_USER:"user/UPDATE_USER",UPDATE_USER_SUCCESS:"user/UPDATE_USER_SUCCESS",CHANGE_PASSWORD:"user/CHANGE_PASSWORD"},et=Object(l.a)().mark(At),tt=Object(l.a)().mark(Tt),rt=Object(l.a)().mark(Lt),nt=Object(l.a)().mark(Rt),at=Object(l.a)().mark(Ut),ct=Object(l.a)().mark(It),st=Object(l.a)().mark(Ft),it=Object(l.a)().mark(Pt),lt=Object(l.a)().mark(Gt),ot=r(52).errorActions,ut=ot.getErrors,dt=ot.clearErrors,bt=Object(T.a)(Ye.LOAD_USER),jt=Object(T.a)(Ye.USER_LOADING),mt=Object(T.a)(Ye.USER_LOADED),pt=Object(T.a)(Ye.AUTH_ERROR),xt=Object(T.a)(Ye.LOGIN),ht=Object(T.a)(Ye.LOGIN_GOOGLE),Ot=Object(T.a)(Ye.LOGIN_FACEBOOK),ft=Object(T.a)(Ye.LOGIN_SUCCESS),gt=Object(T.a)(Ye.LOGIN_FAIL),vt=Object(T.a)(Ye.REGISTER),wt=Object(T.a)(Ye.REGISTER_SUCCESS),yt=Object(T.a)(Ye.REGISTER_FAIL),Nt=Object(T.a)(Ye.LOGOUT),_t=Object(T.a)(Ye.LOGOUT_SUCCESS),kt=Object(T.a)(Ye.UPDATE_USER),St=Object(T.a)(Ye.UPDATE_USER_SUCCESS),Ct=Object(T.a)(Ye.CHANGE_PASSWORD),Et={loadUser:bt,login:xt,loginGoogle:ht,loginFacebook:Ot,register:vt,logout:Nt,updateUser:kt,changePasswordUser:Ct};function At(){var e,t,r;return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(L.c)(jt());case 3:return n.next=5,Object(L.b)(Ve);case 5:return e=n.sent,n.next=8,Object(L.c)(mt(e.data));case 8:n.next=16;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(L.c)(ut({msg:(null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t?void 0:t.data)||"",status:(null===n.t0||void 0===n.t0||null===(r=n.t0.response)||void 0===r?void 0:r.status)||"",id:null}));case 14:return n.next=16,Object(L.c)(pt());case 16:case"end":return n.stop()}}),et,null,[[0,10]])}function Tt(e){var t;return Object(l.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(L.b)(Be,e.payload);case 3:return t=r.sent,r.next=6,Object(L.c)(ft(t.data));case 6:return r.next=8,Object(L.c)(dt());case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(L.c)(ut({msg:r.t0.response.data,status:r.t0.response.status,id:"LOGIN_FAIL"}));case 14:return r.next=16,Object(L.c)(gt());case 16:case"end":return r.stop()}}),tt,null,[[0,10]])}function Lt(e){var t;return Object(l.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log("action.payload",e.payload),r.next=4,Object(L.b)(He,e.payload);case 4:return t=r.sent,r.next=7,Object(L.c)(ft(t.data));case 7:return r.next=9,Object(L.c)(dt());case 9:r.next=17;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object(L.c)(ut({msg:r.t0.response.data,status:r.t0.response.status,id:"LOGIN_FAIL"}));case 15:return r.next=17,Object(L.c)(gt());case 17:case"end":return r.stop()}}),rt,null,[[0,11]])}function Rt(e){var t;return Object(l.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(L.b)(ze,e.payload.accessToken,e.payload.userID);case 3:return t=r.sent,r.next=6,Object(L.c)(ft(t.data));case 6:return r.next=8,Object(L.c)(dt());case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(L.c)(ut({msg:r.t0.response.data,status:r.t0.response.status,id:"LOGIN_FAIL"}));case 14:return r.next=16,Object(L.c)(gt());case 16:case"end":return r.stop()}}),nt,null,[[0,10]])}function Ut(e){var t;return Object(l.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(L.b)(Je,e.payload);case 3:return t=r.sent,r.next=6,Object(L.c)(wt(t.data));case 6:return r.next=8,Object(L.c)(dt());case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(L.c)(ut({msg:r.t0.response.data,status:r.t0.response.status,id:"REGISTER_FAIL"}));case 14:return r.next=16,Object(L.c)(yt());case 16:case"end":return r.stop()}}),at,null,[[0,10]])}function It(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(L.b)(qe);case 3:return e.next=5,Object(L.c)(_t());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),ct,null,[[0,7]])}function Ft(e){var t,r,n,a;return Object(l.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(L.c)(jt());case 3:return t=e.payload,r=t.id,n=t.dataUser,c.next=6,Object(L.b)(Ke,r,n);case 6:return a=c.sent,c.next=9,Object(L.c)(St(a.data));case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),console.log(c.t0);case 14:case"end":return c.stop()}}),st,null,[[0,11]])}function Pt(e){var t,r,n;return Object(l.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,r=t.id,n=t.dataPassword,a.next=4,Object(L.b)(Qe,r,n);case 4:return a.next=6,Object(L.c)(Nt());case 6:return a.next=8,Object(L.c)(dt());case 8:a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(0),console.log(a.t0),a.next=15,Object(L.c)(ut({msg:a.t0.response.data,status:a.t0.response.status,id:"CHANGE_PASSWORD_FAIL"}));case 15:case"end":return a.stop()}}),it,null,[[0,10]])}function Gt(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.d)(Ye.LOAD_USER,At);case 2:return e.next=4,Object(L.d)(Ye.LOGIN,Tt);case 4:return e.next=6,Object(L.d)(Ye.LOGIN_GOOGLE,Lt);case 6:return e.next=8,Object(L.d)(Ye.LOGIN_FACEBOOK,Rt);case 8:return e.next=10,Object(L.d)(Ye.REGISTER,Ut);case 10:return e.next=12,Object(L.d)(Ye.LOGOUT,It);case 12:return e.next=14,Object(L.d)(Ye.UPDATE_USER,Ft);case 14:return e.next=16,Object(L.d)(Ye.CHANGE_PASSWORD,Pt);case 16:case"end":return e.stop()}}),lt)}var Dt,Mt=r(65),Vt=r(275),Wt=function(e){return e.getIn(["user","isAuthenticated"])},Bt=function(e){return e.getIn(["user","isLoading"])},Ht=function(e){return e.getIn(["user","user"])},zt=Object(Mt.fromJS)({isAuthenticated:null,isLoading:!1,user:null}),Jt=function(e,t){return e.set("isAuthenticated",!0).set("isLoading",!1).set("user",Object(Mt.fromJS)(t.payload))},Xt=function(e){return e.set("isAuthenticated",!1).set("isLoading",!1).set("user",null)},qt=Object(Vt.a)((Dt={},Object(ue.a)(Dt,Ye.USER_LOADING,(function(e){return e.set("isLoading",!0)})),Object(ue.a)(Dt,Ye.USER_LOADED,Jt),Object(ue.a)(Dt,Ye.LOGIN_SUCCESS,Jt),Object(ue.a)(Dt,Ye.REGISTER_SUCCESS,Jt),Object(ue.a)(Dt,Ye.LOGIN_FAIL,Xt),Object(ue.a)(Dt,Ye.REGISTER_FAIL,Xt),Object(ue.a)(Dt,Ye.AUTH_ERROR,Xt),Object(ue.a)(Dt,Ye.LOGOUT_SUCCESS,Xt),Object(ue.a)(Dt,Ye.UPDATE_USER_SUCCESS,(function(e,t){return e.set("user",Object(Mt.fromJS)(t.payload)).set("isLoading",!1)})),Dt),zt);var Kt=Object(l.a)().mark(Qt);function Qt(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([ie(),Object(R.errorSagas)(),Gt(),Re()]);case 2:case"end":return e.stop()}}),Kt)}var Zt,$t=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/subscription/push",{slug:t},{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/subscription",{data:t},{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),er=r(31),tr=r(34),rr=r(19),nr=(r(333),r(2)),ar=function(){return Object(nr.jsx)("div",{className:"loadable",children:Object(nr.jsxs)("div",{className:"scaling-squares-spinner",children:[Object(nr.jsx)("div",{className:"square"}),Object(nr.jsx)("div",{className:"square"}),Object(nr.jsx)("div",{className:"square"}),Object(nr.jsx)("div",{className:"square"})]})})},cr=r(10),sr="/api/films",ir=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(sr,"?slug=").concat(t),{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lr=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(sr,"/related?slug=").concat(t),{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat(sr,"/recent"),{history:t},{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ur=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(sr,"/filter").concat(t),{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post(sr,t,{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),br=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("".concat(sr,"/").concat(t),r,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),jr=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat(sr,"/").concat(t),{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mr=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat(sr,"/soft/").concat(t),{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pr=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("".concat(sr,"/").concat(t),r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),xr=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("/api/episodes/".concat(t),r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),hr=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/episodes",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Or=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("/api/episodes/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fr=r(33),gr=r(25),vr=r(33),wr=vr.NEXT,yr=vr.PREV,Nr=r(335).useSwipeable,_r=function(e){return Nr({onSwipedLeft:function(){return e(wr)},onSwipedRight:function(){return e(yr)},preventDefaultTouchmoveEvent:!0,trackTouch:!0})},kr=r(129),Sr=r(281).a.div(Zt||(Zt=Object(kr.a)(["\n  width: 100%;\n  display: flex;\n  transition: ",";\n  transform: ",";\n"])),(function(e){return e.sliding?"none":e.transition}),(function(e){return 1===e.length?"translateX(0)":e.sliding?e.dir===fr.PREV?"translateX(calc(2 * (-100% + ".concat(e.value,")))"):"translateX(calc(0% + ".concat(e.value,"))"):"translateX(calc(-100% + ".concat(e.value,"))")})),Cr=(r(336),function(e){var t=e.className,r=e.ratingPercent,n=e.handleChangeVote;return Object(nr.jsxs)("div",{className:"ratingStar",children:[Object(nr.jsxs)("div",{className:"ratingStar-wrapper ".concat(t),onClick:function(){return n(1)},children:[Object(nr.jsx)("div",{className:"ratingStar--red",style:{width:r>=20?"100%":"".concat(r/20*100,"%")},children:Object(nr.jsx)(gr.j,{})}),Object(nr.jsx)(gr.j,{className:"ratingStar--gray"})]}),Object(nr.jsxs)("div",{className:"ratingStar-wrapper ".concat(t),onClick:function(){return n(2)},children:[Object(nr.jsx)("div",{className:"ratingStar--red",style:{width:r>=40?"100%":r<=20?"0%":"".concat((r-20)/20*100,"%")},children:Object(nr.jsx)(gr.j,{})}),Object(nr.jsx)(gr.j,{className:"ratingStar--gray"})]}),Object(nr.jsxs)("div",{className:"ratingStar-wrapper ".concat(t),onClick:function(){return n(3)},children:[Object(nr.jsx)("div",{className:"ratingStar--red",style:{width:r>=60?"100%":r<=40?"0%":"".concat((r-40)/20*100,"%")},children:Object(nr.jsx)(gr.j,{})}),Object(nr.jsx)(gr.j,{className:"ratingStar--gray"})]}),Object(nr.jsxs)("div",{className:"ratingStar-wrapper ".concat(t),onClick:function(){return n(4)},children:[Object(nr.jsx)("div",{className:"ratingStar--red",style:{width:r>=80?"100%":r<=60?"0%":"".concat((r-60)/20*100,"%")},children:Object(nr.jsx)(gr.j,{})}),Object(nr.jsx)(gr.j,{className:"ratingStar--gray"})]}),Object(nr.jsxs)("div",{className:"ratingStar-wrapper ".concat(t),onClick:function(){return n(5)},children:[Object(nr.jsx)("div",{className:"ratingStar--red",style:{width:100===r?"100%":r<=80?"0%":"".concat((r-80)/20*100,"%")},children:Object(nr.jsx)(gr.j,{})}),Object(nr.jsx)(gr.j,{className:"ratingStar--gray"})]})]})});Cr.defaultProps={handleChangeVote:function(){},className:""};var Er=Cr,Ar=[".",",","!","?","'","{","}","(",")","[","]","/"],Tr=function(e){if(" "===e)return!0},Lr=function(e,t,r,n){if(e<r&&e>n&&function(e,t){if(Ar.indexOf(t[e])>=0&&Tr(t[e+1]))return!0}(e,t))return!0},Rr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200;if(n<t||r>n||r<t)throw new Error("The minimum length must be less than the maximum, and the ideal must be between the minimum and maximum.");if(e.length<r)return[e,""];for(var a,c,s=r,i=r,l=function(t){Tr(e[t])&&(a=a||t)};s<n||i>t;){if(Lr(s,e,n,t)){c=s+1;break}if(Lr(i,e,n,t)){c=i+1;break}l(s),l(i),s+=1,i-=1}return void 0===c&&(c=a&&a>=t&&a<=n?a:r-t<n-r?t:n),[e.slice(0,c),e.slice(c).trim()]},Ur=function(e){var t=e.text,r=e.min,a=e.ideal,c=e.max,s=e.readMoreText,i=[t,r,a,c],l=Rr.apply(void 0,i),o=Object(cr.a)(l,2),u=o[0],d=o[1],b=Object(n.useState)({displaySecondary:!1,primaryText:u,secondaryText:d,readMoreText:s}),j=Object(cr.a)(b,2),m=j[0],p=j[1],x=function(){var e=!m.displaySecondary;p(Object(g.a)(Object(g.a)({},m),{},{displaySecondary:e}))};return m.secondaryText?m.displaySecondary?Object(nr.jsx)("div",{className:"display-text-group",children:Object(nr.jsx)("div",{className:"displayed-text",onClick:function(e){x(),e.preventDefault()},children:"".concat(m.primaryText," ").concat(m.secondaryText)})}):Object(nr.jsx)("div",{className:"display-text-group",children:Object(nr.jsxs)("span",{className:"displayed-text",children:[m.primaryText,Object(nr.jsx)("span",{style:{display:"none"},children:m.secondaryText}),Object(nr.jsx)("div",{className:"read-more-button text-red-primary cursor-pointer font-bold hover:text-red-primary-d",onClick:function(e){x(),e.preventDefault()},children:m.readMoreText})]})}):Object(nr.jsx)("div",{className:"display-text-group",children:Object(nr.jsx)("span",{className:"displayed-text",children:"".concat(m.primaryText," ").concat(m.secondaryText)})})};Ur.defaultProps={readMoreText:"\u0111\u1ecdc th\xeam"};var Ir=Ur,Fr=(r(337),function(e){var t=e.films,r=3e3,a=Object(n.useRef)(null),c=t.slice(0,4).length,s=Object(n.useState)({pos:0,sliding:!1,dir:fr.NEXT}),i=Object(cr.a)(s,2),l=i[0],o=i[1],u=function(e){var t=e.index,r=e.pos;return t-r<0?c-Math.abs(t-r):t-r},d=function e(t){a.current&&clearInterval(a.current),t===fr.NEXT?o((function(e){return Object(g.a)(Object(g.a)({},e),{},{dir:fr.NEXT,sliding:!0,pos:e.pos===c-1?0:e.pos+1})})):t===fr.PREV&&o((function(e){return Object(g.a)(Object(g.a)({},e),{},{dir:fr.PREV,sliding:!0,pos:0===e.pos?c-1:e.pos-1})})),a.current=setInterval((function(){e(fr.NEXT)}),r),setTimeout((function(){o((function(e){return Object(g.a)(Object(g.a)({},e),{},{sliding:!1})}))}),50)};return Object(n.useEffect)((function(){return a.current=setInterval((function(){d(fr.NEXT)}),r),function(){return clearInterval(a.current)}}),[]),Object(nr.jsx)(nr.Fragment,{children:Object(nr.jsxs)("div",Object(g.a)(Object(g.a)({className:"banner mb-3rem"},_r(d)),{},{children:[Object(nr.jsx)("div",{className:"banner__slider",children:Object(nr.jsx)(Sr,{dir:l.dir,sliding:l.sliding,value:"0px",transition:"all 0.6s ease-in-out",length:c,children:(t||[]).slice(0,4).map((function(e,t){var n=e._id,c=e.slug,s=e.poster;return Object(nr.jsxs)(rr.b,{to:"/film/".concat(c),className:"group relative flex flex-carousel",onMouseOver:function(){a.current&&clearInterval(a.current)},onMouseOut:function(){a.current=setInterval((function(){d(fr.NEXT)}),r)},style:{order:u({index:t,pos:l.pos})},children:[Object(nr.jsx)("img",{className:"w-full h-4/5 object-cover",src:"".concat("http://localhost:9000/").concat(s),alt:"banner"}),Object(nr.jsxs)("div",{className:"opacity-0 banner__slider-item-over flex-col justify-end bg-black absolute w-full h-full top-0 bg-opacity-60 pl-8rem pb-35rem transition duration-300 group-hover:opacity-100 hidden xl:flex",children:[Object(nr.jsx)("h2",{className:"text-56 text-white font-bold w-80rem leading-65 mb-4",children:e.title}),Object(nr.jsx)("div",{className:"mb-8",children:Object(nr.jsx)(Er,{className:"banner__slider-rating",ratingPercent:0===((null===e||void 0===e?void 0:e.reviews)||[]).length?0:(null===e||void 0===e?void 0:e.reviews.reduce((function(e,t){return e+t.rating}),0))/e.reviews.length/5*100})}),Object(nr.jsx)(Ir,{text:(null===e||void 0===e?void 0:e.description)||""})]})]},n||t)}))})}),Object(nr.jsxs)("div",{className:"banner__slider-control hidden xl:block",children:[Object(nr.jsx)("button",{className:"banner__slider-control-previous",onClick:function(){return d(fr.PREV)},children:Object(nr.jsx)(gr.b,{})}),Object(nr.jsx)("button",{className:"banner__slider-control-next",onClick:function(){return d(fr.NEXT)},children:Object(nr.jsx)(gr.c,{})}),Object(nr.jsx)("ul",{className:"banner__slider-control-indicators",children:((null===t||void 0===t?void 0:t.slice(0,4))||[]).map((function(e,t){return Object(nr.jsx)("li",{className:"banner__slider-control-dot",children:1===u({index:t,pos:l.pos})?Object(nr.jsx)(gr.h,{className:"text-20"}):Object(nr.jsx)(gr.g,{className:"text-20"})},t)}))})]})]}))})}),Pr=r(176),Gr=function(){var e,t;return window.innerWidth>=1700?(e=9,t="25px"):window.innerWidth>=1536?(e=8,t="25px"):window.innerWidth>=1280?(e=7,t="15px"):window.innerWidth>=1024?(e=6,t="5px"):window.innerWidth>=768?(e=5,t="5px"):window.innerWidth>=360&&(e=3,t="5px"),{numItemPerList:e,margin:t}},Dr=r(276),Mr=r(55),Vr=r(135),Wr=r.n(Vr),Br=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Hr=r(80),zr=(r(341),function(e){var t=e.scrollPosition,r=e.film,a=Object(n.useState)(!1),c=Object(cr.a)(a,2),s=c[0],i=c[1];return Object(nr.jsxs)("div",{children:[Object(nr.jsx)(Hr.LazyLoadImage,{alt:s?"error-image":r.poster,effect:"blur",scrollPosition:t,src:s?"https://res.cloudinary.com/nghiemduong2000/image/upload/v1621406568/VMOflix%20Project/VMOflix%20-%20base/488px-No-Image-Placeholder.svg_zn1ra0.png":"".concat("http://localhost:9000/").concat(r.poster),wrapperClassName:"gallery__link-item gallery-img-wrapper w-full h-full absolute top-0",onError:function(){return i(!0)}}),r.poster]})});zr.defaultProps={scrollPosition:null};var Jr=zr,Xr=(r(342),function(e){var t=e.scrollPosition,r=e.films,n=e.numItemPerList,a=e.margin,c=e.handleGetFilm,s=e.toggleModalFilm,i=e.related;return Object(nr.jsx)(nr.Fragment,{children:r.map((function(e){return Object(nr.jsx)("li",{className:"gallery transition duration-200 transform origin-center xl:hover:scale-125 hover:z-1 first:origin-left last:origin-right mx-3 ".concat(i?"mb-8":null),style:{width:"calc((100% - (".concat(n," * ").concat(a,")) / ").concat(n,")"),marginRight:a},children:Object(nr.jsx)(rr.b,{to:"/film/".concat(e.slug),className:"p-film gallary__link block","aria-label":"\u0110\u01b0\u1eddng d\u1eabn phim",onClick:function(t){window.innerWidth>=1280&&(t.preventDefault(),s(),c(e))},children:Object(nr.jsx)(Jr,{scrollPosition:t,film:e})})},e._id)}))})});Xr.defaultProps={scrollPosition:null,related:!1};var qr=Object(Hr.trackWindowScroll)(Xr),Kr=function(e){var t,r=e.films,a=e.className,c=e.order,s=e.numItemPerList,l=e.margin,o=e.related,u=Object(n.useState)({}),d=Object(cr.a)(u,2),b=d[0],j=d[1],m=Object(n.useState)(!1),p=Object(cr.a)(m,2),x=p[0],h=p[1],O=Object(n.useState)(!1),f=Object(cr.a)(O,2),g=f[0],v=f[1],w=Object(i.c)((function(e){return Pe(e)})).toJS(),y=function(){h(!x)};return Object(nr.jsxs)("ul",{className:"filmListingsByGenre__list flex-1 flex flex-listFilm ".concat(a),style:{order:c},children:[Object(nr.jsx)(Dr.a,{open:x,onClose:y,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:"overflow-auto pb-4rem",children:Object(nr.jsxs)("div",{className:"filmListingsByGenre__modalFilm absolute top-4rem left-1/2 transform -translate-x-1/2 bg-black-body flex items-center flex-col w-4/5 sm:w-3/4 2xl:w-1/2 overflow-hidden rounded-2xl outline-none relative mb-4rem",children:[Object(nr.jsx)("div",{className:"filmListingsByGenre__modalFilm-main p-previewFilm w-full absolute",children:Object(nr.jsx)(Wr.a,{url:b.trailerURL,playing:!0,loop:!0,muted:g,style:{position:"absolute",top:0,right:0},width:"100%",height:"100%",config:{trailer:{playerVars:{fs:0}}}})}),Object(nr.jsxs)("div",{className:"filmListingsByGenre__modalFilm-main-cover z-1 bg-coverModalFilm p-previewFilm w-full relative",children:[Object(nr.jsx)("h3",{className:"text-30 2xl:text-40 text-white font-bold w-50rem absolute left-4rem bottom-16rem",children:b.title}),Object(nr.jsx)("div",{className:"absolute bottom-6rem right-4rem cursor-pointer",onClick:function(){return v(!g)},children:g?Object(nr.jsx)(gr.m,{className:"text-40 text-white leading-20"}):Object(nr.jsx)(gr.n,{className:"text-40 text-white leading-20"})}),Object(nr.jsx)("div",{className:"absolute top-3rem right-4rem bg-black-body hover:bg-gray-primary-d transition-all duration-200 p-2 rounded-full cursor-pointer",onClick:y,children:Object(nr.jsx)(Mr.a,{className:"text-30 text-white"})}),Object(nr.jsx)("div",{className:"absolute bottom-13rem left-4rem",children:Object(nr.jsx)(Er,{className:"filmListingsByGenre__modalFilm-main-rating",ratingPercent:b.reviews?0===b.reviews.length?0:b.reviews.reduce((function(e,t){return e+t.rating}),0)/b.reviews.length/5*100:0})}),Object(nr.jsxs)(rr.b,{to:"/film/".concat(b.slug),className:"bg-white hover:bg-opacity-70 rounded-lg text-20 2xl:text-24 text-black-body py-3 px-16 font-bold absolute left-4rem bottom-6rem",onClick:function(){y()},children:[Object(nr.jsx)(gr.f,{className:"inline-block mr-6"}),"Ph\xe1t"]})]}),Object(nr.jsxs)("div",{className:"filmListingsByGenre__modalFilm-info relative px-4rem pb-4rem flex",children:[Object(nr.jsxs)("div",{className:"filmListingsByGenre__modalFilm-info-desc text-white text-18 w-3/5 mr-10",children:[Object(nr.jsx)("span",{className:"block text-20 font-bold mb-2",children:"N\u1ed9i dung"}),Object(nr.jsx)("span",{children:b.description})]}),Object(nr.jsxs)("div",{className:"filmListingsByGenre__modalFilm-info-desc text-14 w-2/5",children:[Object(nr.jsxs)("div",{className:"mb-4",children:[Object(nr.jsx)("span",{className:"text-gray-primary",children:"Di\u1ec5n vi\xean:"}),Object(nr.jsx)("span",{className:"capitalize text-white",children:b.actor?" ".concat(Br(null===(t=b.actor)||void 0===t?void 0:t.join(", "))):""})]}),Object(nr.jsxs)("div",{children:[Object(nr.jsx)("span",{className:"text-gray-primary",children:"Th\u1ec3 lo\u1ea1i:"}),Object(nr.jsxs)("ul",{className:"text-white inline-block",children:[Object(nr.jsx)(nr.Fragment,{children:"\xa0"}),b.genre?w.filter((function(e){for(var t=0;t<b.genre.length;t++)if(e.genre===b.genre[t])return!0;return!1})).map((function(e,t){return Object(nr.jsxs)("li",{className:"inline-block",children:[0===t?"":Object(nr.jsx)(nr.Fragment,{children:",\xa0"}),Object(nr.jsx)(rr.b,{to:"/category?genre=".concat(e.genre),className:"hover:underline",children:e.vn})]},e._id)})):null]})]})]})]})]})}),Object(nr.jsx)(qr,{films:r,numItemPerList:s,margin:l,handleGetFilm:function(e){j(e)},toggleModalFilm:y,related:o})]})};Kr.defaultProps={order:1,related:!1};var Qr=Kr,Zr=(r(360),function(e){var t=Gr(),r=t.numItemPerList,a=t.margin,c=e.genre,s=e.filmsFilter,l=Object(i.c)((function(e){return Wt(e)})),o=Object(i.c)((function(e){return Ht(e)})),u=function(e,t){for(var r=Math.floor(e.length/t),n=new Array(r>1?r:1),a=0;a<n.length;a++)n[a]=[];var c=0;if(r>=1)for(var s=0;s<r;s++)for(var i=0;i<t;i++)n[s][i]=e[c++];else n[0]=e;return n}(s,r),d=u.length,b=Object(n.useState)(!1),j=Object(cr.a)(b,2),m=j[0],p=j[1],x=Object(n.useState)({pos:0,sliding:!1,dir:fr.NEXT}),h=Object(cr.a)(x,2),O=h[0],f=h[1],v=function(e){var t=e.index,r=e.pos;return t-r<0?d-Math.abs(t-r):t-r},w=function(e){e===fr.NEXT?(f((function(e){return Object(g.a)(Object(g.a)({},e),{},{dir:fr.NEXT,sliding:!0,pos:e.pos===d-1?0:e.pos+1})})),p(!0)):e===fr.PREV&&f((function(e){return Object(g.a)(Object(g.a)({},e),{},{dir:fr.PREV,sliding:!0,pos:0===e.pos?d-1:e.pos-1})})),setTimeout((function(){f((function(e){return Object(g.a)(Object(g.a)({},e),{},{sliding:!1})}))}),50)};return Object(nr.jsxs)("div",Object(g.a)(Object(g.a)({className:"filmListingsByGenre lg:mt-4 relative ".concat("recent"===c?"bg-listFilmAll":"all"===c?l?0===o.get("history").toJS().length?"bg-listFilmAll":null:"bg-listFilmAll":null)},_r(w)),{},{children:[Object(nr.jsx)("h3",{className:"filmListingsByGenre__title text-18 md:text-24 lg:text-26 xl:text-30 text-white font-bold mb-2 capitalize absolute top-0 left-4%",children:c}),Object(nr.jsxs)("div",{className:"overflow-x-hidden xl:pb-16 py-3rem md:py-4rem lg:py-4.5rem xl:py-5rem pl-4% flex w-full",children:[Object(nr.jsx)("span",{className:"filmListingsByGenre__control previous transition-all ".concat(m?"":"opacity-0 invisible"),onClick:function(){return w(fr.PREV)},children:Object(nr.jsx)(Pr.a,{})}),Object(nr.jsx)("span",{className:"filmListingsByGenre__control next ".concat(1===u.length?"opacity-0 invisible":""),onClick:function(){return w(fr.NEXT)},children:Object(nr.jsx)(Pr.b,{})}),Object(nr.jsx)(Sr,{dir:O.dir,sliding:O.sliding,value:"0px",transition:"all 1s ease-in-out",length:u.length,children:u.map((function(e,t){return Object(nr.jsx)(Qr,{numItemPerList:r,margin:a,films:e,order:v({index:t,pos:O.pos}),className:"".concat(1===u.length||m?"":"first:opacity-0 first:invisible")},t)}))})]})]}))}),$r=a.a.memo(Zr),Yr=(r(361),function(e){var t=Object(n.useState)([]),r=Object(cr.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)([]),u=Object(cr.a)(s,2),d=u[0],b=u[1],j=Object(n.useState)(!0),m=Object(cr.a)(j,2),p=m[0],x=m[1],h=Object(i.c)((function(e){return Wt(e)})),O=Object(i.c)((function(e){return Ht(e)}));return Object(n.useEffect)((function(){Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,ur("");case 4:t=e.sent,c(t.data),x(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),Object(n.useEffect)((function(){Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=11;break}return e.prev=1,e.next=4,or(O.get("history").toJS());case 4:t=e.sent,b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}),[h]),Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:"VMOflix"})}),p?Object(nr.jsx)(ar,{}):Object(nr.jsx)(nr.Fragment,{children:Object(nr.jsxs)("div",{className:"home pb-20",children:[Object(nr.jsx)(Fr,{films:a}),Object(nr.jsxs)("div",{className:"filmListingsByGenre__wrap -mt-8rem md:-mt-14rem 2xl:-mt-30rem",children:[h&&0!==O.get("history").toJS().length?Object(nr.jsx)($r,{filmsFilter:d,genre:"recent"}):null,["all","drama","fantasy","action","adventure","mystery"].map((function(e,t){return Object(nr.jsx)($r,{filmsFilter:a.filter((function(t){return"all"===e||-1!==t.genre.indexOf(e)})),genre:e},t)}))]})]})})]})});var en=function(){var e=new URLSearchParams(Object(tr.h)().search),t=Object(tr.h)(),r=t.search,a=t.pathname,c=Object(n.useState)([]),s=Object(cr.a)(c,2),u=s[0],d=s[1],b=Object(n.useState)(!0),j=Object(cr.a)(b,2),m=j[0],p=j[1],x=Gr(),h=x.numItemPerList,O=x.margin,f=Object(i.c)((function(e){return Pe(e)})).toJS();Object(n.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,y.a.get("/api/films/".concat("filter".concat(r)),{withCredentials:!0});case 3:t=e.sent,d(t.data),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]);return Object(nr.jsxs)("div",{className:"searchFilms mb-10rem",children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:"VMOflix - B\u1ed9 l\u1ecdc"})}),Object(nr.jsx)("div",{className:"w-100 h-12rem sm:h-16rem lg:h-20rem flex items-center justify-center",children:Object(nr.jsx)("h2",{className:"text-20 sm:text-30 lg:text-40 text-white uppercase font-bold text-center",children:"/search"===a?"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm: ".concat(e.get("q")):"Th\u1ec3 lo\u1ea1i: ".concat(f.find((function(t){return t.genre===e.get("genre")})).vn)})}),m?Object(nr.jsx)(ar,{}):0===u.length?Object(nr.jsx)("div",{className:"mt-10 flex justify-center text-20 sm:text-30 text-white",children:Object(nr.jsx)("span",{children:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3"})}):Object(nr.jsx)("div",{className:"mx-4%",children:Object(nr.jsx)(Qr,{numItemPerList:h,margin:O,films:u,handleDeleteFilm:function(e){setRelated(related.filter((function(t){return t._id!==e}))),deleteFilmApi(e)},className:"flex-wrap",related:!0})})]})},tn=r(50),rn=r(61),nn=rn.Switch,an=(0,rn.withStyles)((function(e){return{root:{width:52,height:28,padding:0,display:"flex"},switchBase:{padding:2,color:e.palette.common.white,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{opacity:1,backgroundColor:"rgb(229, 9, 20)",borderColor:"rgb(229, 9, 20)"}}},thumb:{width:24,height:24,boxShadow:"none"},track:{border:"1px solid ".concat("rgb(229, 9, 20)"),borderRadius:14,opacity:1,backgroundColor:"rgb(229, 9, 20)"},checked:{}}}))(nn),cn=(r(362),function(e){var t=e.id,r=e.placeholder,a=e.setState,c=e.value,s=e.width,i=e.styleContainer,l=e.styleLabel,o=Object(n.useState)(c),u=Object(cr.a)(o,2),d=u[0],b=u[1],j=function(e){!function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){b(t.result),a(t.result)}}(e.currentTarget.files[0])};return Object(nr.jsxs)("div",{className:"text-white flex items-center ".concat(i),children:[d?Object(nr.jsx)("div",{className:"addEdit_imagePreview ".concat(s),children:Object(nr.jsx)("img",{src:d,alt:"preview",className:"w-full"})}):null,Object(nr.jsx)("div",{className:"flex flex-col items-center ".concat(l),children:Object(nr.jsxs)("label",{htmlFor:t,className:"relative font-bold text-16 bg-red-primary py-4 px-8 rounded-md cursor-pointer hover:bg-red-primary-d",children:[r,Object(nr.jsx)("input",{id:t,type:"file",className:"absolute left-0 z-negative1 opacity-0",onChange:function(e){j(e)}})]})})]})});cn.defaultProps={styleContainer:"",styleLabel:""};var sn=cn,ln=function(e){var t,r=e.className,n=e.placeholder,a=e.value,c=e.setState,s=e.styleContainer;return Object(nr.jsxs)("div",{className:" text-white flex flex-col items-center content-between flex-1 ".concat(s),children:[a?(t=a,Object(nr.jsx)("img",{className:"".concat(r),src:t,alt:"poster"})):null,Object(nr.jsx)("input",{type:"text",className:"bg-transparent focus:outline-none py-6 px-8 rounded-md bg-gray-primary-d text-16 text-white w-full border-b border-gray-primary",onChange:function(e){c(e.target.value)},placeholder:n,value:a})]})};ln.defaultProps={styleContainer:"",className:""};var on=ln,un=function(e){var t=e.modalImage,r=e.toggleModalImage,n=e.toggleSwitchMode,a=e.switchMode,c=e.onChange,s=e.image,i=e.id;return Object(nr.jsx)(nr.Fragment,{children:Object(nr.jsx)(Dr.a,{open:t,onClose:r,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:"flex items-center justify-center",children:Object(nr.jsxs)("div",{className:"bg-black-body flex items-center flex-col overflow-hidden rounded-2xl outline-none relative px-8 py-14 sm:px-24 sm:py-24",children:[Object(nr.jsx)("div",{className:"absolute top-1rem sm:top-3rem right-1rem sm:right-3rem bg-black-body hover:bg-gray-primary-d transition-all duration-200 p-2 rounded-full cursor-pointer",onClick:r,children:Object(nr.jsx)(Mr.a,{className:"text-30 text-white"})}),Object(nr.jsx)("h3",{className:"text-30 sm:text-40 w-30rem sm:w-unset font-bold text-white mb-16 text-center",children:"Thay \u0111\u1ed5i \u1ea3nh \u0111\u1ea1i di\u1ec7n"}),Object(nr.jsxs)("label",{className:"flex items-center mb-6",children:[Object(nr.jsx)("span",{className:"text-16 text-white mr-4",children:"URL"}),Object(nr.jsx)(an,{checked:a,onChange:n,name:"checkedC"}),Object(nr.jsx)("span",{className:"text-16 text-white ml-4",children:"Upload"})]}),a?Object(nr.jsx)(sn,{id:i,value:s,placeholder:"Ch\u1ecdn \u1ea3nh",width:"w-18rem",setState:c,styleContainer:"flex-col",styleLabel:"mt-10"}):Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(on,{value:s,placeholder:"URL \u1ea3nh",className:"w-18rem mb-10",styleContainer:"w-30rem",setState:c}),Object(nr.jsx)("button",{className:"text-16 text-white bg-red-primary py-4 px-8 font-bold rounded-md hover:bg-red-primary-d mt-6 transition-all duration-200",type:"button",onClick:r,children:"\u0110\xf3ng"})]})]})})})},dn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return-1===t.indexOf("")},bn=function(e){var t=e.modalChangePassword,r=e.toggleModalChangePassword,a=e.user,c=Object(i.b)(),s=Object(tr.h)().pathname,u=Object(i.c)((function(e){return R.errorSelectors.error(e)})),d=-1!==s.indexOf("admin"),b=Object(n.useState)({oldPassword:"",newPassword:"",reNewPassword:""}),j=Object(cr.a)(b,2),m=j[0],p=j[1],x=Object(n.useState)(""),h=Object(cr.a)(x,2),O=h[0],f=h[1],v=Object(n.useState)(null),w=Object(cr.a)(v,2),y=w[0],N=w[1];Object(n.useEffect)((function(){"CHANGE_PASSWORD_FAIL"===u.id?N(u.msg.msg):N(null)}),[u]),Object(n.useEffect)((function(){return function(){c(R.errorActions.clearErrors())}}),[]);var _=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.preventDefault(),r={oldPassword:m.oldPassword,newPassword:m.newPassword},dn(m.oldPassword,m.newPassword,m.reNewPassword)?m.newPassword!==m.reNewPassword?f("M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng kh\u1edbp"):(f(""),c(d?te.changePasswordAdmin(r):Et.changePasswordUser({id:a.get("_id"),dataPassword:r}))):f("\u0110i\u1ec1n t\u1ea5t c\u1ea3 \xf4 tr\u1ed1ng")}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){f(""),p(Object(g.a)(Object(g.a)({},m),{},{oldPassword:"",newPassword:"",reNewPassword:""}))};return Object(nr.jsx)(Dr.a,{open:t,onClose:function(){k(),r()},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:"flex items-center justify-center",children:Object(nr.jsxs)("div",{className:"bg-black-body flex items-center flex-col overflow-hidden rounded-2xl outline-none relative px-8 py-14 sm:px-24 sm:py-24",children:[Object(nr.jsx)("div",{className:"absolute top-1rem sm:top-3rem right-1rem sm:right-3rem bg-black-body hover:bg-gray-primary-d transition-all duration-200 p-2 rounded-full cursor-pointer",onClick:function(){k(),r()},children:Object(nr.jsx)(Mr.a,{className:"text-30 text-white"})}),Object(nr.jsx)("h3",{className:"text-30 lg:text-40 text-white font-bold mb-2",children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),Object(nr.jsxs)("p",{className:"text-16 sm:text-18 text-red-primary text-center mb-10 w-30rem sm:w-35rem",children:[Object(nr.jsx)("strong",{children:"L\u01b0u \xfd:"})," Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u s\u1ebd t\u1ef1 \u0111\u1ed9ng \u0111\u0103ng xu\u1ea5t tr\xean t\u1ea5t c\u1ea3 c\xe1c thi\u1ebft b\u1ecb\n                k\u1ec3 c\u1ea3 thi\u1ebft b\u1ecb n\xe0y"]}),Object(nr.jsxs)("form",{onSubmit:_,children:[y?Object(nr.jsx)("div",{className:"bg-gray-primary-d mb-8 border border-red-500 rounded-lg text-16 sm:text-18 py-4 px-6 text-red-500 w-30rem sm:w-35rem text-center",children:y}):null,O?Object(nr.jsx)("div",{className:"bg-gray-primary-d mb-8 border border-red-500 rounded-lg text-18 py-4 px-6 text-red-500 w-30rem sm:w-35rem text-center",children:O}):null,Object(nr.jsx)("input",{type:"password",value:m.oldPassword,className:"bg-gray-primary-d text-white text-16 sm:text-18 px-8 py-6 mb-4 rounded-md w-30rem sm:w-35rem block",onChange:function(e){p(Object(g.a)(Object(g.a)({},m),{},{oldPassword:e.target.value}))},placeholder:"M\u1eadt kh\u1ea9u c\u0169"}),Object(nr.jsx)(rr.b,{to:"/forgot-password",className:"text-red-primary text-16 mb-6 block",children:"Qu\xean m\u1eadt kh\u1ea9u ?"}),Object(nr.jsx)("input",{type:"password",value:m.newPassword,className:"bg-gray-primary-d text-white text-16 sm:text-18 px-8 py-6 mb-6 rounded-md w-30rem sm:w-35rem block",onChange:function(e){p(Object(g.a)(Object(g.a)({},m),{},{newPassword:e.target.value}))},placeholder:"M\u1eadt kh\u1ea9u m\u1edbi"}),Object(nr.jsx)("input",{type:"password",value:m.reNewPassword,className:"bg-gray-primary-d text-white text-16 sm:text-18 px-8 py-6 mb-6 rounded-md w-30rem sm:w-35rem block",onChange:function(e){p(Object(g.a)(Object(g.a)({},m),{},{reNewPassword:e.target.value}))},placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi"}),Object(nr.jsx)("button",{className:"text-16 text-white bg-red-primary px-8 py-6 font-bold rounded-md transition-all duration-200 hover:bg-red-primary-d mt-6 w-full",type:"submit",children:"Thay \u0111\u1ed5i"})]})]})})};bn.defaultProps={user:{}};var jn=a.a.memo(bn),mn=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return Ht(e)})),r=Object(i.c)((function(e){return Wt(e)})),a=Object(i.c)((function(e){return Bt(e)})),c=Object(n.useState)({userName:"",imageUser:"",switchMode:!1,modalImage:!1,modalChangePassword:!1,modalLock:!1,oldPassword:"",newPassword:"",reNewPassword:"",error:""}),s=Object(cr.a)(c,2),u=s[0],d=s[1];Object(n.useEffect)((function(){r&&d(Object(g.a)(Object(g.a)({},u),{},{userName:t.get("userName"),imageUser:t.get("imageUser")}))}),[t]);var b=function(){d(Object(g.a)(Object(g.a)({},u),{},{modalImage:!u.modalImage}))},j=function(){d(Object(g.a)(Object(g.a)({},u),{},{modalChangePassword:!u.modalChangePassword}))},m=function(){d(Object(g.a)(Object(g.a)({},u),{},{modalLock:!u.modalLock}))},p=function(){var r=Object(o.a)(Object(l.a)().mark((function r(){return Object(l.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e(Et.logout()),r.next=4,Ke(t.get("_id"),{isActive:!1});case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(){return r.apply(this,arguments)}}();return Object(nr.jsxs)("div",{className:"user h-screen flex justify-center items-center flex-col",children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:"VMOflix - Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"})}),a?Object(nr.jsx)(ar,{}):r?Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(un,{modalImage:u.modalImage,toggleModalImage:b,toggleSwitchMode:function(){d(Object(g.a)(Object(g.a)({},u),{},{switchMode:!u.switchMode,imageUser:""}))},switchMode:u.switchMode,onChange:function(e){d(Object(g.a)(Object(g.a)({},u),{},{imageUser:e}))},image:u.imageUser,user:t,id:"imageUser"}),Object(nr.jsx)(jn,{modalChangePassword:u.modalChangePassword,toggleModalChangePassword:j,user:t}),Object(nr.jsx)(Dr.a,{open:u.modalLock,onClose:m,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:"flex items-center justify-center",children:Object(nr.jsxs)("div",{className:"bg-black-body flex items-center flex-col overflow-hidden rounded-2xl outline-none relative px-8 py-14 sm:px-24 sm:py-24",children:[Object(nr.jsx)("div",{className:"absolute top-1rem sm:top-3rem right-1rem sm:right-3rem bg-black-body hover:bg-gray-primary-d transition-all duration-200 p-2 rounded-full cursor-pointer",onClick:m,children:Object(nr.jsx)(Mr.a,{className:"text-30 text-white"})}),Object(nr.jsx)(tn.c,{className:"text-70 text-red-primary"}),Object(nr.jsx)("h3",{className:"text-30 sm:text-40 font-bold text-red-primary mt-2 pb-4",children:"C\u1ea3nh b\xe1o"}),Object(nr.jsx)("p",{className:"text-16 sm:text-18 text-red-primary text-center mb-10 w-30rem sm:w-35rem",children:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c khuy\u1ebfn kh\xedch, T\xe0i kho\u1ea3n s\u1ebd b\u1ecb \u0111\u0103ng xu\u1ea5t v\xe0 kh\xf3a ngay l\u1eadp t\u1ee9c, ch\u1ec9 s\u1eed d\u1ee5ng trong tr\u01b0\u1eddng h\u1ee3p kh\u1ea9n c\u1ea5p"}),Object(nr.jsxs)("p",{className:"text-16 sm:text-18 text-red-primary text-center mb-10 w-30rem sm:w-35rem",children:["\u0110\u1ec3 ",Object(nr.jsx)("strong",{children:"M\u1ede KH\xd3A"})," xin li\xean h\u1ec7 l\u1ea1i v\u1edbi"," ",Object(nr.jsx)("strong",{children:"ADMIN"})]}),Object(nr.jsx)("button",{className:"text-16 text-white bg-red-primary px-8 py-6 font-bold rounded-md transition-all duration-200 hover:bg-red-primary-d mt-6 w-full",type:"button",onClick:p,children:"T\xf4i \u0111\u1ed3ng \xfd"})]})}),Object(nr.jsx)("h2",{className:"text-30 sm:text-50 text-white font-bold mb-20",children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"}),Object(nr.jsxs)("form",{onSubmit:function(r){r.preventDefault();var n={userName:u.userName===t.get("userName")?void 0:u.userName,imageUser:t.get("imageUser")===u.imageUser?void 0:u.imageUser,isUpload:u.switchMode};e(Et.updateUser({id:t.get("_id"),dataUser:n})),d(Object(g.a)(Object(g.a)({},u),{},{switchMode:!1}))},children:[Object(nr.jsx)("div",{className:"relative w-14rem sm:w-20rem group mx-auto cursor-pointer mb-12",onClick:b,children:Object(nr.jsxs)("div",{className:"p-quare w-full",children:[Object(nr.jsx)("div",{className:"absolute top-0 flex justify-center items-center left-0 w-full h-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition duration-200",children:Object(nr.jsx)(tn.b,{className:" text-40 text-white"})}),Object(nr.jsx)("img",{src:u.imageUser?u.imageUser:t.get("imageUser"),className:"w-full h-full object-cover",alt:"avatar"})]})}),Object(nr.jsx)("input",{type:"text",value:u.userName,className:"bg-gray-primary-d text-white text-16 sm:text-18 px-8 py-6 mb-6 rounded-md w-30rem sm:w-35rem block",onChange:function(e){d(Object(g.a)(Object(g.a)({},u),{},{userName:e.target.value}))},placeholder:"T\xean ng\u01b0\u1eddi d\xf9ng"}),Object(nr.jsx)("button",{type:"submit",disabled:t.get("userName")===u.userName&&t.get("imageUser")===u.imageUser,className:"disabled:bg-gray-primary mx-auto block text-white bg-red-primary text-16 sm:text-18 font-bold py-4 px-10 rounded-md mt-8 text-center hover:bg-red-primary-d transition duration-200",children:"L\u01b0u"})]}),Object(nr.jsx)("span",{className:"text-white text-24 sm:text-30 hover:underline mt-20 cursor-pointer",onClick:j,children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),Object(nr.jsx)("span",{className:"text-red-primary text-24 sm:text-30 hover:underline mt-4 cursor-pointer",onClick:m,children:"Kh\xf3a t\xe0i kho\u1ea3n"})]}):Object(nr.jsx)(tr.a,{to:"/"})]})},pn=[{path:"/",component:Yr},{path:"/user/account",component:mn},{path:"/search",component:en},{path:"/category",component:en}],xn=(r(363),function(){return Object(nr.jsxs)("footer",{className:"footer flex flex-col sm:flex-row justify-center items-center border-t-4 border-red-primary py-4rem relative",children:[Object(nr.jsx)("img",{src:"https://res.cloudinary.com/nghiemduong2000/image/upload/v1615915194/logoVMO-PNG-02_ybelrn.webp",alt:"logo",className:"w-10rem mb-8 sm:mb-0 md:mr-4rem lg:w-20rem "}),Object(nr.jsxs)("div",{className:"flex flex-start flex-col sm:flex-row justify-center items-center ",children:[Object(nr.jsxs)("div",{className:"footer__about items-center sm:justify-center flex flex-col sm:flex-rol w-20rem md:w-40rem mr-0 sm:mr-4rem mb-6 sm: mb-0",children:[Object(nr.jsx)("img",{src:"https://res.cloudinary.com/nghiemduong2000/image/upload/v1618458158/VMOflix%20Project/VMOflix%20-%20base/VMOFLIX-02-02_bpjidv.webp",alt:"logo",className:"w-8rem sm:w-8rem md:w-10rem ld:w-14rem mb-4"}),Object(nr.jsx)("p",{className:"text-14 sm:text-16 text-white text-center sm:text-left",children:"Trang xem phim tr\u1ef1c tuy\u1ebfn h\xe0ng \u0111\u1ea7u Vi\u1ec7t Nam, lu\xf4n c\u1eadp nh\u1eadt nh\u1eefng phim chi\u1ebfu r\u1ea1p hay nh\u1ea5t, m\u1edbi nh\u1ea5t \u1edf c\u1ea3 \u0111i\u1ec7n \u1ea3nh Vi\u1ec7t Nam v\xe0 Th\u1ebf Gi\u1edbi."})]}),Object(nr.jsxs)("div",{className:"footer__contact",children:[Object(nr.jsx)("h3",{className:"text-20 font-bold text-white mb-4",children:"LI\xcaN H\u1ec6"}),Object(nr.jsxs)("ul",{className:"flex justify-center sm:justify-start",children:[Object(nr.jsx)("li",{className:"mr-2",children:Object(nr.jsx)("a",{href:"https://www.facebook.com/Vmogroup2012",target:"_blank",rel:"noreferrer","aria-label":"\u0110\u01b0\u1eddng d\u1eabn Facebook",className:"block bg-red-primary w-3.5rem h-3.5rem flex items-center justify-center rounded-md hover:bg-red-primary-d transition-all duration-200",children:Object(nr.jsx)(gr.e,{className:"text-18 text-black-body"})})}),Object(nr.jsx)("li",{children:Object(nr.jsx)("a",{href:"https://www.vmogroup.com/",target:"_blank","aria-label":"\u0110\u01b0\u1eddng d\u1eabn Website",rel:"noreferrer",className:"block bg-red-primary w-3.5rem h-3.5rem flex items-center justify-center rounded-md hover:bg-red-primary-d transition-all duration-200",children:Object(nr.jsx)(gr.o,{className:"text-18 text-black-body"})})})]})]})]})]})}),hn=function(e){var t=Object(tr.h)().search,r=Object(i.b)(),n=new URLSearchParams(t),a=Object(i.c)((function(e){return Wt(e)})),c=Object(i.c)((function(e){return Ht(e)})),s=Object(i.c)((function(e){return Pe(e)})).toJS(),l=e.className,o=e.toggle;return Object(nr.jsx)("div",{className:"navbarResponsive bg-black w-full fixed top-0 left-0 h-full z-10 bg-opacity-90 transition-all duration-200 pt-4.1rem lg:pt-6.8rem ".concat("show"===l?"opacity-100 visible":"opacity-0 invisible"),onClick:o,children:Object(nr.jsxs)("div",{className:"w-26rem h-full bg-black-body transform transition-all duration-200 ".concat("show"===l?"translate-x-0":"-translate-x-full"),children:[Object(nr.jsx)("div",{className:"navbarResponsive__header flex flex-col border-b border-gray-primary-d",children:a?Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsxs)("div",{className:"flex ml-6 my-4 items-center",children:[Object(nr.jsx)("div",{className:"w-4.5rem h-4.5rem overflow-hidden rounded-lg",children:Object(nr.jsx)("img",{src:c.get("imageUser"),alt:"avatar",className:"object-cover w-full h-full"})}),Object(nr.jsx)("h3",{className:"text-18 font-bold flex-1 text-white ml-4 ",children:c.get("userName")})]}),Object(nr.jsx)(rr.b,{to:"/user/account",className:"text-16 mb-4 text-white hover:underline cursor-pointer ml-6",children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"}),Object(nr.jsx)("span",{className:"text-white cursor-pointer text-16 font-bold hover:underline ml-6 mb-4",onClick:function(){return r(Et.logout())},children:"\u0110\u0103ng xu\u1ea5t"})]}):Object(nr.jsx)(rr.b,{to:"/login",className:"navbar__btn bg-red-primary text-white rounded-md mx-auto inline-block my-6 hover:bg-red-primary-d text-16 px-3 py-1 lg:px-7 lg:py-3",children:"\u0110\u0103ng nh\u1eadp"})}),Object(nr.jsx)("ul",{className:"py-2",children:s.map((function(e){return Object(nr.jsx)("li",{className:"w-full text-16 font-bold group",children:Object(nr.jsxs)(rr.b,{className:"w-full block py-2 relative text-white opacity-60 group-hover:opacity-100 ".concat(e.genre===n.get("genre")?"opacity-100":null),style:{paddingLeft:"".concat(4*window.innerWidth/100,"px")},to:"/category?genre=".concat(e.genre),children:[Object(nr.jsx)("div",{className:"absolute w-0.25rem h-full top-0 left-0 bg-red-primary opacity-0 ".concat(e.genre===n.get("genre")?"opacity-100":null)}),e.vn]})},e._id)}))})]})})},On=(r(364),function(e){var t=e.addClass,r=Object(tr.g)(),a=Object(n.useRef)(),c=Object(i.b)(),s=Object(n.useRef)(null),l=Object(tr.h)(),o=l.pathname,u=l.search,d=new URLSearchParams(u),b=Object(n.useState)(!1),j=Object(cr.a)(b,2),m=j[0],p=j[1],x=Object(n.useState)("/search"===o),h=Object(cr.a)(x,2),O=h[0],f=h[1],g=Object(n.useState)(!1),v=Object(cr.a)(g,2),w=v[0],y=v[1],N=Object(n.useState)(!1),_=Object(cr.a)(N,2),k=_[0],S=_[1],C=Object(i.c)((function(e){return Wt(e)})),E=Object(i.c)((function(e){return Ht(e)})),A=Object(i.c)((function(e){return Pe(e)})).toJS(),T=function(){p(0!==window.scrollY)};Object(n.useEffect)((function(){return window.addEventListener("scroll",T),function(){clearTimeout(s.current),window.removeEventListener("scroll",T)}}),[]);var L=function(){S(!k)};return Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)("div",{className:"navbar__wrap fixed top-0 z-20 w-full transition-all duration-800 ease-in-out ".concat(m||k?"bg-black-body":"bg-transparent"," ").concat(t),children:Object(nr.jsxs)("div",{className:"navbar h-4.1rem lg:h-6.8rem px-4% flex items-center justify-between w-full bg-navbar",children:[Object(nr.jsxs)("div",{className:"navbar__left flex",children:[Object(nr.jsx)("div",{className:"navbar__menu--tablet w-2.5rem z-1 cursor-pointer block lg:hidden mr-6 ".concat(k?"checked":""),onClick:L,children:Object(nr.jsx)("span",{className:"navbar__menu--tablet-icon relative transform -translate-y-1/2 top-1/2",children:"\xa0"})}),Object(nr.jsx)(rr.b,{className:"flex items-center",to:"/",onClick:function(){window.scrollTo({top:0,left:0,behavior:"smooth"}),f(!1)},children:Object(nr.jsx)("img",{src:"https://res.cloudinary.com/nghiemduong2000/image/upload/v1618458158/VMOflix%20Project/VMOflix%20-%20base/VMOFLIX-02-02_bpjidv.webp",alt:"Logo",className:"h-2rem lg:h-2.5rem"})}),Object(nr.jsxs)("div",{className:"navbar__left-genre relative ml-10",children:[Object(nr.jsxs)("button",{type:"button",className:"navbar__left-genre-header hidden lg:flex h-full items-center text-white text-16 font-bold border border-white px-4 py-2 bg-black bg-opacity-90 cursor-pointer relative z-1 focus:outline-none",onClick:function(){return y(!w)},onBlur:function(){return y(!1)},children:["Th\u1ec3 lo\u1ea1i",Object(nr.jsx)(gr.a,{className:"ml-6"})]}),Object(nr.jsx)("ul",{className:"navbar__left-genre-list hidden lg:flex flex-wrap w-50rem absolute top-full left-0 bg-black bg-opacity-90 border border-gray-primary-d py-2 transition-all duration-200 ".concat(w?"opacity-100 visible":"opacity-0 invisible"),children:A.map((function(e){return Object(nr.jsx)("li",{className:"w-1/3 text-14 text-white",children:Object(nr.jsxs)(rr.b,{className:"w-full block py-2 px-4 relative hover:underline",to:"/category?genre=".concat(e.genre),children:[e.genre===d.get("genre")?Object(nr.jsx)("div",{className:"absolute w-0.25rem h-full top-0 left-0 bg-red-primary"}):null,Object(nr.jsx)("span",{className:e.genre===d.get("genre")?"font-bold text-white":null,children:e.vn})]})},e._id)}))})]})]}),Object(nr.jsxs)("div",{className:"navbar__right flex",children:[Object(nr.jsx)("div",{className:"navbar__serachBox lg:mr-12 flex",children:O||window.innerWidth<=1024?Object(nr.jsxs)("div",{className:"flex items-center border border-white px-2 py-1 sm:px-2 sm:py-2 bg-black bg-opacity-90",children:[Object(nr.jsx)(gr.i,{className:"text-14 sm:text-18 text-white mr-4"}),Object(nr.jsx)("input",{type:"text",ref:a,onBlur:function(){"/search"!==o&&window.innerWidth>1024&&setTimeout((function(){return f(!1)}),200)},placeholder:"T\xean phim,...",onChange:function(e){var t=e.target.value;""===t?r.push("/"):(s.current&&clearTimeout(s.current),s.current=setTimeout((function(){r.push({pathname:"/search",search:"?q=".concat(t)})}),0))},className:"focus:outline-none bg-transparent text-14 text-white transition-width duration-200 w-10rem ".concat(window.innerWidth<=1024?"sm:w-16rem":"/search"===o?"w-26rem":"w-0 focus:w-26rem")})]}):Object(nr.jsx)("button",{type:"button","aria-label":"T\xecm ki\u1ebfm phim",onClick:function(){f(!0),setTimeout((function(){return a.current.focus()}),0)},children:Object(nr.jsx)(gr.i,{className:"text-18 text-white"})})}),window.innerWidth<1024?null:C?Object(nr.jsxs)("div",{className:"relative group",children:[Object(nr.jsxs)("div",{className:"flex items-center cursor-pointer",children:[Object(nr.jsx)("div",{className:"w-3.5rem h-3.5rem overflow-hidden rounded-md",children:Object(nr.jsx)("img",{className:"object-cover w-full h-full",src:E.get("imageUser"),alt:"avatar"})}),Object(nr.jsx)(gr.a,{className:"ml-2 text-white text-16 transform transition-all duration-400 group-hover:rotate-180"})]}),Object(nr.jsxs)("div",{className:"navbar__right-menuUser absolute w-20rem top-5rem right-0 bg-black bg-opacity-90 border border-gray-primary transition-all duration-200 invisible opacity-0 group-hover:opacity-100 group-hover:visible",children:[Object(nr.jsxs)("div",{className:"border-b border-gray-primary-d px-6 py-4 flex flex-col",children:[Object(nr.jsx)("p",{className:"text-white font-bold text-16 mb-4",children:E.get("userName")}),Object(nr.jsx)(rr.b,{className:"text-14 leading-10 block text-white hover:underline",to:"/user/account",children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"})]}),Object(nr.jsx)("span",{className:"text-14 block text-white font-bold hover:underline cursor-pointer px-6 py-4",onClick:function(){return c(Et.logout())},children:"\u0110\u0103ng xu\u1ea5t"})]})]}):Object(nr.jsx)("div",{onClick:r.push("/login"),className:"navbar__btn bg-red-primary hover:bg-red-primary-d text-14 lg:text-16 px-3 py-1 lg:px-7 lg:py-3 cursor-pointer",children:"\u0110\u0103ng nh\u1eadp"})]})]})}),Object(nr.jsx)(hn,{toggle:L,className:k?"show":""})]})});On.defaultProps={addClass:""};var fn=On;function gn(){var e=Object(tr.h)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var vn=r(5),wn=["component"],yn=function(e){var t=e.component,r=Object(vn.a)(e,wn),n=Object(i.c)((function(e){return me(e)}));return Object(nr.jsx)(tr.b,Object(g.a)(Object(g.a)({},r),{},{component:function(e){return n?Object(nr.jsx)(t,Object(g.a)(Object(g.a)({},e),{},{trigger:r.trigger})):Object(nr.jsx)(tr.a,{to:"/admin"})}}))},Nn=["component"],_n=function(e){var t=e.component,r=Object(vn.a)(e,Nn),n=Object(i.c)((function(e){return me(e)}));return Object(nr.jsx)(tr.b,Object(g.a)(Object(g.a)({},r),{},{component:function(e){return n?Object(nr.jsx)(tr.a,{to:"/admin/manage/films"}):Object(nr.jsx)(t,Object(g.a)({},e))}}))},kn=r(24),Sn={container:function(e){return Object(g.a)(Object(g.a)({},e),{},{flex:"1",":not(:last-child)":{marginRight:"1rem"}})},control:function(e,t){t.isFocused,t.isSelected;return Object(g.a)(Object(g.a)({},e),{},{backgroundColor:"#333",border:"none",outline:"none",borderRadius:"0.375rem",minHeight:"43px"})},option:function(e,t){var r=t.isSelected;return Object(g.a)(Object(g.a)({},e),{},{color:r?"rgb(229, 9, 20)":"rgb(156,163,175)",fontSize:"20px",backgroundColor:"#333",":hover":{backgroundColor:"#555"},":checked":{color:"rgb(229, 9, 20)"}})},menu:function(e){return Object(g.a)(Object(g.a)({},e),{},{backgroundColor:"#333"})},valueContainer:function(e){return Object(g.a)(Object(g.a)({},e),{},{padding:"0 0 0 1.5rem"})},singleValue:function(e){return Object(g.a)(Object(g.a)({},e),{},{color:"rgb(156,163,175)",fontSize:"20px",fontFamily:'"Netflix Sans", Arial, Helvetica, sans-serif',lineHeight:"2rem"})},placeholder:function(e){return Object(g.a)(Object(g.a)({},e),{},{color:"rgb(156,163,175)",fontSize:"20px",fontFamily:'"Netflix Sans", Arial, Helvetica, sans-serif',lineHeight:"2rem"})},multiValue:function(e){return Object(g.a)(Object(g.a)({},e),{},{fontSize:"14px",margin:"0 0 0 4px",backgroundColor:"white"})},indicatorSeparator:function(e){return Object(g.a)(Object(g.a)({},e),{},{display:"none"})},indicatorContainer:function(e){return Object(g.a)(Object(g.a)({},e),{},{":hover":{backgroundColor:"hsl(0, 0%, 40%)"}})}},Cn={control:function(e,t){t.isFocused,t.isSelected;return Object(g.a)(Object(g.a)({},e),{},{backgroundColor:"#333",border:"none",outline:"none",borderRadius:"0.375rem",minHeight:"43px"})},option:function(e,t){var r=t.isSelected;return Object(g.a)(Object(g.a)({},e),{},{color:r?"rgb(229, 9, 20)":"rgb(156,163,175)",fontSize:"16px",backgroundColor:"#333",":hover":{backgroundColor:"#555"},":checked":{color:"rgb(229, 9, 20)"}})},menu:function(e){return Object(g.a)(Object(g.a)({},e),{},{backgroundColor:"#333",borderRadius:"0.375rem",overflow:"hidden"})},input:function(e){return Object(g.a)(Object(g.a)({},e),{},{color:"white",fontSize:"16px"})},valueContainer:function(e){return Object(g.a)(Object(g.a)({},e),{},{padding:"0 0 0 2rem"})},singleValue:function(e){return Object(g.a)(Object(g.a)({},e),{},{color:"rgb(156,163,175)",fontSize:"16px",fontFamily:'"Netflix Sans", Arial, Helvetica, sans-serif',lineHeight:"2.4rem"})},placeholder:function(e){return Object(g.a)(Object(g.a)({},e),{},{color:"rgb(156,163,175)",fontSize:"16px",fontFamily:'"Netflix Sans", Arial, Helvetica, sans-serif',lineHeight:"2.4rem"})},multiValue:function(e){return Object(g.a)(Object(g.a)({},e),{},{fontSize:"14px",margin:"0 0 0 4px",backgroundColor:"white"})},indicatorSeparator:function(e){return Object(g.a)(Object(g.a)({},e),{},{display:"none"})},dropdownIndicator:function(e){return Object(g.a)(Object(g.a)({},e),{},{":hover":{backgroundColor:"transparent"},padding:"17px"})}},En=r(112),An=(r(365),r(138)),Tn=r(177),Ln=function(){var e=Object(tr.g)(),t=Object(tr.h)().pathname,r=Object(tr.i)().slug,a=Object(i.c)((function(e){return me(e)})),c=Object(i.c)((function(e){return Pe(e)})).toJS(),s="/admin/films/add"===t,u=Object(n.useState)({currentFilm:{},updating:!1,loading:!s,switchMode:!1,error:"",title:"",actor:"",description:"",genre:[],poster:"",episodes:[]}),d=Object(cr.a)(u,2),b=d[0],j=d[1],m=Object(n.useState)(!1),p=Object(cr.a)(m,2),x=p[0],h=p[1],O=Object(n.useState)(!1),f=Object(cr.a)(O,2),v=f[0],w=f[1],y=Object(n.useState)(null),N=Object(cr.a)(y,2),_=N[0],k=N[1],S=Object(n.useState)(null),C=Object(cr.a)(S,2),E=C[0],A=C[1],T=Object(n.useState)(!1),L=Object(cr.a)(T,2),R=L[0],U=L[1],I={title:"",description:"",episode:null,video:""},F=Object(n.useState)(""),P=Object(cr.a)(F,2),G=P[0],D=P[1],M=Object(n.useState)(""),V=Object(cr.a)(M,2),W=V[0];V[1];Object(n.useEffect)((function(){if(!s){var e=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(Object(g.a)(Object(g.a)({},b),{},{loading:!0})),e.next=4,ir(r);case 4:t=e.sent,n=t.data,j((function(e){return Object(g.a)(Object(g.a)(Object(g.a)({},e),n),{},{loading:!1})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}}),[]);var B=function(){var t=Object(o.a)(Object(l.a)().mark((function t(){var r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=Object(g.a)({title:b.title,description:b.description,poster:b.poster,actor:b.actor.split(",").map((function(e){return e.trim().toLowerCase()})),genre:b.genre},s&&{episodes:b.episodes}),!s){t.next=12;break}return j(Object(g.a)(Object(g.a)({},b),{},{updating:!0})),t.next=6,dr(r);case 6:return j(Object(g.a)(Object(g.a)({},b),{},{updating:!1})),e.push({pathname:"/admin/manage/films",state:"add"}),t.next=10,$t(b.titleSlug);case 10:t.next=17;break;case 12:return j(Object(g.a)(Object(g.a)({},b),{},{updating:!0})),t.next=15,br(b._id,r);case 15:j(Object(g.a)(Object(g.a)({},b),{},{updating:!1})),e.push({pathname:"/admin/manage/films",state:"update"});case 17:D(""),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(){return t.apply(this,arguments)}}(),H=c.map((function(e){return{value:e.genre,label:e.vn}})),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sucess",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;An.b[e](t,{position:"top-right",autoClose:r,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},J=function(e,t,r){var n=b.episodes;n[r][e]=t,j(Object(g.a)(Object(g.a)({},b),{},{episodes:n}))},X=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(Object(g.a)(Object(g.a)({},b),{},{updating:!0})),r=Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({},(null===_||void 0===_?void 0:_.title)!==E.title&&{title:null===_||void 0===_?void 0:_.title}),(null===_||void 0===_?void 0:_.description)!==E.description&&{description:null===_||void 0===_?void 0:_.description}),(null===_||void 0===_?void 0:_.video)!==E.video&&{video:null===_||void 0===_?void 0:_.video}),{},{episode:(null===_||void 0===_?void 0:_.episode)||""}),e.next=5,xr(t,r);case 5:e.sent,z("success","C\u1eadp nh\u1eadp t\u1eadp phim th\xe0nh c\xf4ng!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),z("error","C\u1eadp nh\u1eadp t\u1eadp phim kh\xf4ng th\xe0nh c\xf4ng!");case 12:return e.prev=12,j(Object(g.a)(Object(g.a)({},b),{},{updating:!1})),h(!1),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[0,9,12,16]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Object(g.a)(Object(g.a)({},b),{},{updating:!0})),e.prev=1,t=Object(g.a)({film:b._id},_),e.next=5,hr(t);case 5:null!==(r=e.sent)&&void 0!==r&&r.data&&(j(Object(g.a)(Object(g.a)({},b),{},{episodes:[].concat(Object(kn.a)(b.episodes),[t]),updating:!1})),z("success","Th\xeam m\u1edbi t\u1eadp phim th\xe0nh c\xf4ng!")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),z("error","Th\xeam m\u1edbi t\u1eadp phim kh\xf4ng th\xe0nh c\xf4ng!"),j(Object(g.a)(Object(g.a)({},b),{},{updating:!1}));case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Object(g.a)(Object(g.a)({},b),{},{updating:!0})),e.prev=1,e.next=4,Or(t);case 4:200===e.sent.status&&(r=b.episodes.filter((function(e){return e._id!==t})),j(Object(g.a)(Object(g.a)({},b),{},{episodes:Object(kn.a)(r),updating:!1})),z("success","X\xf3a t\u1eadp phim th\xe0nh c\xf4ng!")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),j(Object(g.a)(Object(g.a)({},b),{},{updating:!1})),z("error","X\xf3a t\u1eadp phim kh\xf4ng c\xf4ng!");case 12:return e.prev=12,w(!1),h(!1),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[1,8,12,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){_&&E&&JSON.stringify(_)!==JSON.stringify(E)?U(!1):U(!0)}),[JSON.stringify(_),JSON.stringify(E)]),Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:s?"Admin - Th\xeam phim":"Admin - S\u1eeda phim"})}),a?b.loading?Object(nr.jsx)(ar,{}):Object(nr.jsxs)("div",{className:"createReview flex items-center justify-center",children:[Object(nr.jsx)(Dr.a,{open:b.updating,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:"overflow-auto pb-4rem flex justify-center items-center bg-black-navbar bg-opacity-80",children:Object(nr.jsx)(ar,{})}),Object(nr.jsx)("div",{className:"createReview__background h-screen fixed top-0 w-full bg-black",children:Object(nr.jsx)("img",{className:"w-full h-full object-cover filter blur",src:"https://res.cloudinary.com/nghiemduong2000/image/upload/v1618500603/VMOflix%20Project/VMOflix%20-%20base/vmoflix-tv-logo_gd1rmx.webp",alt:""})}),Object(nr.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s?dn(b.title,b.description,b.poster,b.actor)&&b.genre.length>0&&b.episodes.length>0&&!W?B():D("Vui l\xf2ng \u0111i\u1ec1n \u0111\xfang t\u1ea5t c\u1ea3 \xf4 tr\u1ed1ng"):W||B()},className:"createReview__form z-1 bg-black-body bg-opacity-80 py-6 px-4 sm:py-24 sm:px-24 flex flex-col mt-10rem mb-10rem w-11/12 lg:w-90rem",children:[Object(nr.jsx)("h3",{className:"text-24 sm:text-30 text-white font-bold mb-4 sm:mb-10",children:s?"Th\xeam phim m\u1edbi":"S\u1eeda phim"}),W?Object(nr.jsx)("div",{className:"mb-8 border-2 border-red-primary rounded-lg text-16 py-4 px-6 text-red-primary",children:W}):null,G?Object(nr.jsx)("div",{className:"mb-8 border-2 border-red-primary rounded-lg text-16 py-4 px-6 text-red-primary",children:G}):null,Object(nr.jsxs)("label",{htmlFor:"title",className:"mb-6",children:[Object(nr.jsx)("span",{className:"text-20 text-white mb-2 block",children:"T\xean phim"}),Object(nr.jsx)("input",{id:"title",type:"text",className:"createReview__form-input w-full",placeholder:"Ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft",onChange:function(e){j(Object(g.a)(Object(g.a)({},b),{},{title:e.target.value}))},value:b.title})]}),Object(nr.jsxs)("label",{htmlFor:"actor",className:"mb-6",children:[Object(nr.jsx)("span",{className:"mb-2 block text-20 text-white",children:"Di\u1ec5n vi\xean"}),Object(nr.jsx)("input",{id:"actor",type:"text",className:"createReview__form-input w-full",placeholder:"Di\u1ec5n vi\xean",onChange:function(e){j(Object(g.a)(Object(g.a)({},b),{},{actor:e.target.value}))},value:b.actor})]}),Object(nr.jsxs)("label",{children:[Object(nr.jsx)("span",{className:"mb-2 block text-20 text-white",children:"Th\u1ec3 lo\u1ea1i"}),Object(nr.jsx)(En.a,{isMulti:!0,defaultValue:c.filter((function(e){for(var t=0;t<b.genre.length;t++)if(e.genre===b.genre[t])return!0;return!1})).map((function(e){return{value:e.genre,label:e.vn}})),options:H,styles:Cn,onChange:function(e){return j(Object(g.a)(Object(g.a)({},b),{},{genre:e.map((function(e){return e.value}))}))},placeholder:"Th\u1ec3 lo\u1ea1i"})]}),Object(nr.jsxs)("label",{htmlFor:"Epsisode",className:"my-6 flex justify-between items-center",children:[Object(nr.jsx)("div",{className:"text-20 text-white mb-2",children:"Danh s\xe1ch t\u1eadp phim"}),Object(nr.jsx)("div",{className:"text-20 text-white mb-2 py-2 px-4 bg-red-primary rounded-sm cursor-pointer",onClick:function(){return function(){var e=Object(g.a)(Object(g.a)({},I),{},{episode:b.episodes.length+1});s?j(Object(g.a)(Object(g.a)({},b),{},{episodes:[].concat(Object(kn.a)(b.episodes),[e])})):(h(!1),w(!0),A(e),k(e))}()},children:"Th\xeam t\u1eadp phim"})]}),Object(nr.jsx)("div",{className:"grid grid-cols-10 gap-3 mb-6",children:!s&&(b.episodes||[]).map((function(e,t){return Object(nr.jsx)("div",{className:"bg-red-primary py-3 px-5 rounded-lg text-center text-16 text-white font-bold cursor-pointer",onClick:function(){h(!0),k(Object(g.a)(Object(g.a)({},e),{},{episode:t+1})),A(Object(g.a)(Object(g.a)({},e),{},{episode:t+1}))},children:t+1},"list-episode-".concat(t+1))}))}),s&&(b.episodes||[]).map((function(e,t){return Object(nr.jsxs)("div",{className:"mt-3 border rounded-lg border-gray-500 p-8 mb-3",children:[Object(nr.jsxs)("div",{className:"mb-2 text-20 text-white flex justify-between",children:[Object(nr.jsx)("div",{children:"T\u1eadp Phim: ".concat(t+1)}),Object(nr.jsx)("div",{onClick:function(){var t=b.episodes.filter((function(t){return t.episode!==e.episode}));j(Object(g.a)(Object(g.a)({},b),{},{episodes:Object(kn.a)(t)}))},className:"cursor-pointer",children:Object(nr.jsx)(Tn.a,{})})]}),Object(nr.jsx)("div",{className:"mb-2 block text-20 text-white",children:"Ti\xeau \u0111\u1ec1"}),Object(nr.jsx)("input",{type:"text",className:"createReview__form-input w-full",placeholder:"Ti\xeau \u0111\u1ec1  phim",onChange:function(e){return J("title",e.target.value,t)},value:e.title}),Object(nr.jsx)("div",{className:"mb-2 block text-20 text-white",children:"M\xf4 t\u1ea3"}),Object(nr.jsx)("input",{type:"text",className:"createReview__form-input w-full",placeholder:"M\xf4 t\u1ea3 phim",onChange:function(e){return J("description",e.target.value,t)},value:e.description}),Object(nr.jsx)("div",{className:"mb-2 block text-20 text-white",children:"Video"}),Object(nr.jsx)("input",{type:"text",className:"createReview__form-input w-full",placeholder:"URL video",onChange:function(e){return J("video",e.target.value,t)},value:e.video})]},"episodes_".concat(t))})),(x||v)&&Object(nr.jsxs)("div",{className:"mt-3 border rounded-lg border-gray-500 p-8 mb-6",children:[Object(nr.jsxs)("div",{className:"mb-2 flex justify-between text-20 text-white font-bold",children:[Object(nr.jsxs)("div",{children:[x&&"C\u1eadp nh\u1eadp t\u1eadp phim: ".concat(null===_||void 0===_?void 0:_.episode),v&&"Th\xeam m\u1edbi t\u1eadp phim: ".concat(null===_||void 0===_?void 0:_.episode)]}),Object(nr.jsx)("div",{onClick:function(){h(!1),w(!1)},className:"cursor-pointer",children:Object(nr.jsx)(Tn.a,{})})]}),Object(nr.jsx)("div",{className:"mb-2 block text-20 text-white",children:"Ti\xeau \u0111\u1ec1"}),Object(nr.jsx)("input",{className:"createReview__form-input w-full",placeholder:"Ti\xeau \u0111\u1ec1  phim",onChange:function(e){return k(Object(g.a)(Object(g.a)({},_),{},{title:e.target.value.trim()}))},value:null===_||void 0===_?void 0:_.title}),Object(nr.jsx)("div",{className:"mb-2 block text-20 text-white",children:"M\xf4 t\u1ea3"}),Object(nr.jsx)("input",{className:"createReview__form-input w-full",placeholder:"M\xf4 t\u1ea3 phim",onChange:function(e){return k(Object(g.a)(Object(g.a)({},_),{},{description:e.target.value.trim()}))},value:null===_||void 0===_?void 0:_.description}),Object(nr.jsx)("div",{className:"mb-2 block text-20 text-white",children:"Video"}),Object(nr.jsx)("input",{className:"createReview__form-input w-full",placeholder:"URL video",onChange:function(e){return k(Object(g.a)(Object(g.a)({},_),{},{video:e.target.value.trim()}))},value:null===_||void 0===_?void 0:_.video}),Object(nr.jsxs)("div",{className:"flex justify-center item-center gap-8 mt-6",children:[Object(nr.jsx)("div",{className:"text-center text-14 font-medium text-white py-4 px-5 bg-red-primary w-60 rounded-lg \n                        ".concat(R?"cursor-not-allowed opacity-50":"cursor-pointer"),onClick:function(){R||(x?X(_._id):q())},children:"L\u01b0u"}),x&&Object(nr.jsx)("div",{className:"text-center text-14 font-medium text-white py-4 px-5 bg-red-primary w-60 rounded-lg cursor-pointer",onClick:function(){return K(null===_||void 0===_?void 0:_._id)},children:"X\xf3a"})]})]}),Object(nr.jsx)("label",{className:"flex items-center justify-start mb-6",children:Object(nr.jsx)("span",{className:"text-20 text-white",children:"T\u1ea3i l\xean h\xecnh \u1ea3nh"})}),Object(nr.jsx)("div",{className:"createReview__form-input mb-6 flex",children:Object(nr.jsx)(sn,{id:"poster",value:b.poster,placeholder:"Ch\u1ecdn Poster",width:"w-14rem",setState:function(e){j(Object(g.a)(Object(g.a)({},b),{},{poster:null!==e&&void 0!==e?e:""}))},styleContainer:"mr-6",styleLabel:"ml-6"})}),Object(nr.jsxs)("label",{htmlFor:"description",children:[Object(nr.jsx)("span",{className:"mb-2 block text-20 text-white",children:"N\u1ed9i dung ch\xednh"}),Object(nr.jsx)("textarea",{id:"description",className:"createReview__form-input h-20rem w-full",placeholder:"M\xf4 t\u1ea3 b\xe0i vi\u1ebft",onChange:function(e){j(Object(g.a)(Object(g.a)({},b),{},{description:e.target.value}))},value:b.description})]}),Object(nr.jsx)("button",{type:"submit",className:"text-white bg-red-primary text-16 font-bold py-6 rounded-md mt-8 text-center hover:bg-red-primary-d transition duration-200",children:s?"Th\xeam phim":"S\u1eeda phim"})]})]}):Object(nr.jsx)(tr.a,{to:"/admin"})]})},Rn=r(286),Un=r.n(Rn),In=r(139),Fn=(r(374),function(e){var t=Object(i.b)(),r=Object(tr.h)().pathname,a=Object(tr.g)(),c=Object(i.c)((function(e){return R.errorSelectors.error(e)})),s=Object(i.c)((function(e){return Wt(e)})),u=Object(i.c)((function(e){return me(e)})),d=Object(n.useState)(""),b=Object(cr.a)(d,2),j=b[0],m=b[1],p=Object(n.useState)(""),x=Object(cr.a)(p,2),h=x[0],O=x[1],f=Object(n.useState)(""),g=Object(cr.a)(f,2),v=g[0],w=g[1],y=Object(n.useState)(""),N=Object(cr.a)(y,2),_=N[0],k=N[1],S=Object(n.useState)(null),C=Object(cr.a)(S,2),E=C[0],A=C[1],T=Object(n.useState)(""),L=Object(cr.a)(T,2),U=L[0],I=L[1],F=Object(n.useState)(""),P=Object(cr.a)(F,2),G=P[0],D=P[1];Object(n.useEffect)((function(){"LOGIN_FAIL"===c.id||"REGISTER_FAIL"===c.id?A(c.msg.msg):A(null)}),[c]),Object(n.useEffect)((function(){return function(){t(R.errorActions.clearErrors())}}),[]);var M=-1!==r.indexOf("admin"),V=-1!==r.indexOf("register"),W=function(){var e=Object(o.a)(Object(l.a)().mark((function e(r){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(Et.loginGoogle(r.credential))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(Object(l.a)().mark((function e(r){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(Et.loginFacebook({accessToken:r.accessToken,userID:r.userID}))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:V?"\u0110\u0103ng k\xfd - VMOflix":"\u0110\u0103ng nh\u1eadp - VMOflix"})}),M?u&&!V?Object(nr.jsx)(tr.a,{to:"/admin/manage/films"}):null:s?e.location.state?Object(nr.jsx)(tr.a,{to:e.location.state.pathname}):Object(nr.jsx)(tr.a,{to:"/"}):null,Object(nr.jsxs)("div",{className:"login bg-black h-screen flex items-center justify-center",children:[Object(nr.jsx)("div",{className:"login__background w-full h-full opacity-50 absolute",children:Object(nr.jsx)("img",{src:"https://assets.nflxext.com/ffe/siteui/vlv3/92bb3a0b-7e91-40a0-b27b-f2c3ac9ef6e4/b9637692-6620-40e8-ad9d-9ccbd5ef952b/VN-vi-20210322-popsignuptwoweeks-perspective_alpha_website_small.jpg",srcSet:"https://assets.nflxext.com/ffe/siteui/vlv3/92bb3a0b-7e91-40a0-b27b-f2c3ac9ef6e4/b9637692-6620-40e8-ad9d-9ccbd5ef952b/VN-vi-20210322-popsignuptwoweeks-perspective_alpha_website_small.jpg 1000w, https://assets.nflxext.com/ffe/siteui/vlv3/92bb3a0b-7e91-40a0-b27b-f2c3ac9ef6e4/b9637692-6620-40e8-ad9d-9ccbd5ef952b/VN-vi-20210322-popsignuptwoweeks-perspective_alpha_website_medium.jpg 1500w, https://assets.nflxext.com/ffe/siteui/vlv3/92bb3a0b-7e91-40a0-b27b-f2c3ac9ef6e4/b9637692-6620-40e8-ad9d-9ccbd5ef952b/VN-vi-20210322-popsignuptwoweeks-perspective_alpha_website_large.jpg 1800w",alt:"",className:"object-cover w-full h-full"})}),Object(nr.jsx)("div",{className:"login__navbar absolute top-0 h-9rem px-4% flex items-center justify-center sm:justify-start w-full",children:Object(nr.jsx)(rr.b,{to:M&&V?"/admin/manage/users":"/",children:Object(nr.jsx)("img",{className:"h-4rem lg:h-4.5rem",src:"https://res.cloudinary.com/nghiemduong2000/image/upload/v1618458158/VMOflix%20Project/VMOflix%20-%20base/VMOFLIX-02-02_bpjidv.webp",alt:"Logo"})})}),Object(nr.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=M&&!V?j:h;if(V?dn(G,r,v,_)&&_===v:dn(r,v)){I("");var n=V?{userName:G,userEmail:h,userPassword:v}:M?{loginID:j,password:v}:{userEmail:h,userPassword:v};V?M?Xe(n):t(Et.register(n)):t(M?te.login(n):Et.login(n)),M&&V&&setTimeout((function(){return a.push("/admin/manage/users")}),500)}else I(V&&_!==v?"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng kh\u1edbp":"\u0110i\u1ec1n t\u1ea5t c\u1ea3 c\xe1c \xf4 tr\u1ed1ng")},className:"login__form z-1 bg-black bg-opacity-80 px-8 py-14 sm:px-24 sm:py-24 flex flex-col",children:[Object(nr.jsxs)("div",{className:"flex justify-between items-center mb-10",children:[Object(nr.jsx)("h3",{className:"text-30 text-white font-bold",children:V?"\u0110\u0103ng k\xfd":"\u0110\u0103ng nh\u1eadp"}),V&&!M?Object(nr.jsx)(rr.b,{to:"/login",className:"text-red-primary text-16 font-bold",children:"\u0110\u0103ng nh\u1eadp"}):null]}),E?Object(nr.jsx)("div",{className:"bg-gray-primary-d mb-8 border border-red-500 rounded-lg text-18 py-4 px-6 text-red-500 w-30rem sm:w-35rem text-center",children:E}):null,U?Object(nr.jsx)("div",{className:"bg-gray-primary-d mb-8 border border-red-500 rounded-lg text-18 py-4 px-6 text-red-500 w-30rem sm:w-35rem text-center",children:U}):null,V?Object(nr.jsx)("input",{type:"text",className:"login__form-input",placeholder:"T\xean ng\u01b0\u1eddi d\xf9ng",onChange:function(e){return D(e.target.value)}}):null,Object(nr.jsx)("input",{type:M?"text":"email",className:"login__form-input",placeholder:M&&!V?"LoginID":"Email",onChange:function(e){var t=e.target.value;M&&!V?m(t):O(t)}}),Object(nr.jsx)("input",{type:"password",className:"login__form-input",placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){return w(e.target.value)}}),V?Object(nr.jsx)("input",{type:"password",className:"login__form-input",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",onChange:function(e){return k(e.target.value)}}):null,Object(nr.jsx)("button",{type:"submit",className:"text-white bg-red-primary text-16 font-bold py-6 rounded-md mt-8 text-center hover:bg-red-primary-d transition duration-200",children:V?"\u0110\u0103ng k\xfd":"\u0110\u0103ng nh\u1eadp"}),V||M?null:Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(rr.b,{to:"/forgot-password",className:"text-red-primary text-16 mt-6",children:"Qu\xean m\u1eadt kh\u1ea9u ?"}),Object(nr.jsxs)("div",{className:"flex items-center pt-6 pb-4",children:[Object(nr.jsx)("span",{className:"text-white text-14 mr-2",children:"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n ?"}),Object(nr.jsx)(rr.b,{className:"text-red-primary text-14 font-bold hover:text-red-primary-d",to:"/register",children:"\u0110\u0103ng k\xfd ngay"})]})]}),M?null:Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)("div",{className:"text-14 border-t border-gray-primary-d pt-6 text-gray-primary text-center my-6",children:Object(nr.jsx)("span",{children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng"})}),Object(nr.jsxs)("div",{className:"block",children:[Object(nr.jsx)("div",{className:"flex justify-center items-center gap-8",children:Object(nr.jsx)(In.a,{onSuccess:W,onError:function(e){console.log(e)},useOneTap:!0})}),Object(nr.jsx)("div",{className:"flex justify-center mt-5",style:{height:"40px"},children:Object(nr.jsx)("div",{className:"bg-blue-facebook rounded-md btn-facebook",children:Object(nr.jsx)(Un.a,{appId:"761669164547706",autoLoad:!1,fields:"name,email,picture",callback:B,textButton:"\u0110\u0103ng nh\u1eadp b\u1eb1ng facebook",cssClass:"text-white font-size-fb w-full h-full"})})})]})]})]})]})]})});Fn.defaultProps={state:{},location:{}};var Pn=Fn,Gn=function(e){var t=e.flag,r=Object(n.useState)({amountAdmin:{},loading:!0}),a=Object(cr.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(g.a)(Object(g.a)({},c),{},{loading:!0})),e.next=3,N();case 3:t=e.sent,s((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!1,amountAdmin:t.data})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(nr.jsx)("div",{className:"flex w-4/5 my-20 mx-auto justify-between opacity-80",children:c.loading?Object(nr.jsx)(ar,{}):Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsxs)("div",{className:"flex flex-1 mr-20 bg-black-navbar px-20 py-20 rounded-xl relative",children:[Object(nr.jsxs)("div",{className:"text-white",children:[Object(nr.jsx)("span",{className:"text-18",children:"S\u1ed1 l\u01b0\u1ee3ng ng\u01b0\u1eddi d\xf9ng"}),Object(nr.jsx)("h3",{className:"text-60 leading-60 mt-2 font-bold",children:c.amountAdmin.users})]}),Object(nr.jsx)("div",{className:"text-white text-100",children:Object(nr.jsx)(tn.f,{})})]}),Object(nr.jsxs)("div",{className:"flex flex-1 mr-20 bg-black-navbar px-20 py-20 justify-between rounded-xl",children:[Object(nr.jsxs)("div",{className:"text-white",children:[Object(nr.jsx)("span",{className:"text-18",children:"S\u1ed1 l\u01b0\u1ee3ng phim"}),Object(nr.jsx)("h3",{className:"text-60 leading-60 mt-2 font-bold",children:c.amountAdmin.films})]}),Object(nr.jsx)("div",{className:"text-white text-100",children:Object(nr.jsx)(tn.d,{})})]}),Object(nr.jsxs)("div",{className:"flex flex-1 bg-black-navbar px-20 py-20 justify-between rounded-xl",children:[Object(nr.jsxs)("div",{className:"text-white",children:[Object(nr.jsx)("span",{className:"text-18",children:"S\u1ed1 l\u01b0\u1ee3ng th\u1ec3 lo\u1ea1i"}),Object(nr.jsx)("h3",{className:"text-60 leading-60 mt-2 font-bold",children:c.amountAdmin.categories})]}),Object(nr.jsx)("div",{className:"text-white text-100",children:Object(nr.jsx)(tn.a,{})})]})]})})},Dn=a.a.memo(Gn),Mn=(r(375),function(e){var t=Object(i.b)(),r=Object(i.c)((function(e){return me(e)})),n=Object(i.c)((function(e){return xe(e)}));return Object(nr.jsx)(nr.Fragment,{children:Object(nr.jsx)("div",{className:"navbar__wrap top-0 z-20 w-full bg-black-navbar relative",children:Object(nr.jsxs)("div",{className:"navbar h-4.1rem lg:h-6.8rem px-4% flex items-center justify-between w-full",children:[Object(nr.jsxs)("div",{className:"navbar__left flex",children:[Object(nr.jsx)("div",{className:"navbar__menu--tablet w-2.5rem z-1 cursor-pointer block lg:hidden mr-6",children:Object(nr.jsx)("span",{className:"navbar__menu--tablet-icon relative transform -translate-y-1/2 top-1/2",children:"\xa0"})}),Object(nr.jsx)(rr.b,{className:"flex items-center",to:"/admin/manage/films",children:Object(nr.jsx)("img",{src:"https://res.cloudinary.com/nghiemduong2000/image/upload/v1618458158/VMOflix%20Project/VMOflix%20-%20base/VMOFLIX-02-02_bpjidv.webp",alt:"Logo",className:"h-2rem lg:h-2.5rem"})})]}),Object(nr.jsx)("div",{className:"navbar__right flex",children:window.innerWidth<1024?null:r?Object(nr.jsxs)("div",{className:"relative group",children:[Object(nr.jsxs)("div",{className:"flex items-center cursor-pointer",children:[Object(nr.jsx)("div",{className:"w-3.5rem h-3.5rem overflow-hidden rounded-md",children:Object(nr.jsx)("img",{className:"object-cover w-full h-full",src:n.get("imageAdmin"),alt:"avatar"})}),Object(nr.jsx)(gr.a,{className:"ml-2 text-white text-16 transform transition-all duration-400 group-hover:rotate-180"})]}),Object(nr.jsxs)("div",{className:"navbar__right-menuUser absolute w-20rem top-5rem right-0 bg-black bg-opacity-90 border border-gray-primary transition-all duration-200 invisible opacity-0 group-hover:opacity-100 group-hover:visible",children:[Object(nr.jsxs)("div",{className:"border-b border-gray-primary-d px-6 py-4 flex flex-col",children:[Object(nr.jsx)("p",{className:"text-white font-bold text-16 mb-4 uppercase",children:n.get("loginID")}),Object(nr.jsx)(rr.b,{className:"text-14 leading-10 block text-white hover:underline",to:"/admin/account",children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"})]}),Object(nr.jsx)("span",{className:"text-14 block text-white font-bold hover:underline cursor-pointer px-6 py-4",onClick:function(){return t(te.logout())},children:"\u0110\u0103ng xu\u1ea5t"})]})]}):Object(nr.jsx)(rr.b,{to:"/login",className:"navbar__btn bg-red-primary hover:bg-red-primary-d text-14 lg:text-16 px-3 py-1 lg:px-7 lg:py-3",children:"\u0110\u0103ng nh\u1eadp"})})]})})})}),Vn=(r(376),function(e){var t=e.trigger,r=Object(n.useState)({categories:[],loading:!0,flag:!0,genre:"",vn:"",validate:"",genreValue:"",vnValue:""}),a=Object(cr.a)(r,2),c=a[0],s=a[1];Object(n.useEffect)((function(){return Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(g.a)(Object(g.a)({},c),{},{loading:!0})),e.next=3,ve();case 3:t=e.sent,s((function(e){return Object(g.a)(Object(g.a)({},e),{},{categories:t.data,loading:!1})}));case 5:case"end":return e.stop()}}),e)})))(),function(){s({categories:[],loading:!0,flag:!0,genre:"",vn:"",validate:"",genreValue:"",vnValue:""})}}),[c.flag]);var i=function(){var e=Object(o.a)(Object(l.a)().mark((function e(r){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!dn(c.genre,c.vn)){e.next=7;break}return e.next=4,we({genre:c.genre,vn:c.vn});case 4:setTimeout((function(){s(Object(g.a)(Object(g.a)({},c),{},{genre:"",vn:"",flag:!c.flag})),t()}),500),e.next=8;break;case 7:s(Object(g.a)(Object(g.a)({},c),{},{validate:"\u0110i\u1ec1n t\u1ea5t c\u1ea3 c\xe1c \xf4 tr\u1ed1ng"}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(nr.jsxs)("div",{className:"listCategories flex items-start w-4/5 mx-auto relative opacity-80",children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:"Admin - Qu\u1ea3n l\xfd th\u1ec3 lo\u1ea1i"})}),Object(nr.jsxs)("div",{className:"flex-1 mr-20 bg-black-body rounded-xl overflow-hidden",children:[Object(nr.jsx)("div",{className:"flex bg-black-navbar px-8 justify-between items-center border-b border-gray-primary-d",children:Object(nr.jsx)("h1",{className:"listCategories__heading text-24 font-bold text-white py-4",children:"T\u1ea1o th\u1ec3 lo\u1ea1i"})}),Object(nr.jsxs)("form",{onSubmit:i,className:"listCategories__form bg-opacity-80 px-8 py-14 flex flex-col",children:[c.validate?Object(nr.jsx)("div",{className:"bg-gray-primary-d mb-8 border border-red-500 rounded-lg text-18 py-4 px-6 text-red-500",children:c.validate}):null,Object(nr.jsx)("input",{type:"text",value:c.genre,className:"listCategories__form-input mb-6 px-8 py-6 shadow-inner-md text-20 flex-1 bg-gray-primary-d focus:outline-none text-white leading-20 rounded-md",placeholder:"T\xean th\u1ec3 lo\u1ea1i",onChange:function(e){s(Object(g.a)(Object(g.a)({},c),{},{genre:e.target.value}))}}),Object(nr.jsx)("input",{type:"text",value:c.vn,className:"listCategories__form-input px-8 py-6 shadow-inner-md text-20 flex-1 bg-gray-primary-d focus:outline-none text-white leading-20 rounded-md",placeholder:"T\xean th\u1ec3 lo\u1ea1i b\u1eb1ng ti\u1ebfng vi\u1ec7t",onChange:function(e){return s(Object(g.a)(Object(g.a)({},c),{},{vn:e.target.value}))}}),Object(nr.jsx)("button",{type:"submit",className:"text-white bg-red-primary text-20 font-bold py-6 rounded-md mt-8 leading-20 text-center hover:bg-red-primary-d transition duration-200",children:"T\u1ea1o th\u1ec3 lo\u1ea1i"})]})]}),Object(nr.jsxs)("div",{className:"flex-1 bg-black-body flex flex-col pb-6 rounded-xl overflow-hidden",children:[Object(nr.jsx)("div",{className:"flex bg-black-navbar px-8 justify-between items-center border-b border-gray-primary-d",children:Object(nr.jsx)("h1",{className:"listCategories__heading text-24 font-bold text-white py-4",children:"Danh s\xe1ch th\u1ec3 lo\u1ea1i"})}),c.loading?Object(nr.jsx)(ar,{}):Object(nr.jsx)("div",{className:"listCategories__wrapTable h-50rem",children:Object(nr.jsxs)("table",{className:"w-full",children:[Object(nr.jsx)("thead",{children:Object(nr.jsxs)("tr",{children:[Object(nr.jsx)("th",{style:{width:"10%"},children:"Stt"}),Object(nr.jsx)("th",{style:{width:"45%"},children:"Th\u1ec3 lo\u1ea1i"}),Object(nr.jsx)("th",{style:{width:"45%"},children:"Th\u1ec3 lo\u1ea1i ti\u1ebfng vi\u1ec7t"})]})}),Object(nr.jsx)("tbody",{children:c.categories.map((function(e,t){var r=e.genre,n=e.vn;return Object(nr.jsxs)("tr",{children:[Object(nr.jsx)("td",{children:t+1}),Object(nr.jsx)("td",{children:r}),Object(nr.jsx)("td",{children:n})]},e._id)}))})]})})]})]})}),Wn=a.a.memo(Vn),Bn=r(417),Hn=r(140),zn=r.n(Hn),Jn=r(98),Xn=r(99),qn=[{value:"",label:"M\u1eb7c \u0111\u1ecbnh (S\u1eafp x\u1ebfp)",type:"default"},{value:"nameAz",label:"S\u1eafp x\u1ebfp A-Z",type:"name"},{value:"nameZa",label:"S\u1eafp x\u1ebfp Z-A",type:"name"},{value:"dateAz",label:"S\u1eafp x\u1ebfp m\u1edbi nh\u1ea5t",type:"date"},{value:"dateZa",label:"S\u1eafp x\u1ebfp c\u0169 nh\u1ea5t",type:"date"}],Kn=function(e){var t=e.sortData,r=e.handleSortData,n=e.handleFlag,a=e.handleGenreFilter,c=e.handleSearch,s=e.handleData,l=Object(tr.h)().pathname,o=Object(i.c)((function(e){return Pe(e)})).toJS().map((function(e){return{value:e.genre,label:e.vn}})),u=-1!==l.indexOf("films");return Object(nr.jsxs)("div",{className:"listFilms__searchFilter bg-black-body mb-6 rounded-xl",children:[Object(nr.jsx)("h3",{className:"text-24 text-white font-bold py-4 px-8 bg-black-navbar border-b border-gray-primary-d rounded-t-xl",children:u?"B\u1ed9 l\u1ecdc phim":"B\u1ed9 l\u1ecdc ng\u01b0\u1eddi d\xf9ng"}),Object(nr.jsxs)("div",{className:"px-8 py-6",children:[Object(nr.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n()},className:"w-full flex items-stretch mb-4",children:[Object(nr.jsx)("input",{type:"text",placeholder:u?"\u0110i\u1ec1n t\xean phim":"\u0110i\u1ec1n t\xean ng\u01b0\u1eddi d\xf9ng",className:"px-6 py-4 shadow-inner-md text-20 flex-1 bg-gray-primary-d focus:outline-none text-white leading-20 rounded-md mr-8",onChange:function(e){return c(e.target.value)}}),Object(nr.jsx)("button",{type:"submit","aria-label":"T\xecm ki\u1ebfm",className:"text-20 text-white bg-red-primary px-16 rounded-md hover:bg-red-primary-d",children:Object(nr.jsx)(gr.i,{})})]}),Object(nr.jsxs)("div",{className:"flex",children:[u?Object(nr.jsx)(En.a,{isMulti:!0,options:o,styles:Sn,onChange:function(e){return a(e.map((function(e){return e.value})))},placeholder:"Th\u1ec3 lo\u1ea1i"}):null,Object(nr.jsx)(En.a,{value:t,options:qn,styles:Sn,onChange:function(e){r(e),e.value?s(e):n()}})]})]})]})};Kn.defaultProps={handleGenreFilter:function(){}};var Qn=Kn,Zn=r(178),$n=function(e){var t=e.film,r=e.isBin,a=e.index,c=e.handleFlag,s=e.setMessage,u=e.setLoading,d=t.posterFilm,b=t.title,j=t.titleSearch,m=t.actor,p=t.genre,x=t.description,h=Object(i.c)((function(e){return Pe(e)})).toJS(),O=Object(n.useState)({lastSlug:"",modalWarning:!1}),f=Object(cr.a)(O,2),v=f[0],w=f[1],y=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pr(t._id,{softDelete:!1});case 3:e.sent,setTimeout((function(){return c()}),500),s("\u0110\xe3 kh\xf4i ph\u1ee5c phim ".concat(t.title)),u(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r){e.next=10;break}return e.next=4,mr(t);case 4:w(Object(g.a)(Object(g.a)({},v),{},{lastSlug:t})),setTimeout((function(){return c()}),500),s("\u0110\xe3 chuy\u1ec3n phim v\xe0o th\xf9ng r\xe1c (Truy c\u1eadp th\xf9ng r\xe1c \u0111\u1ec3 kh\xf4i ph\u1ee5c)"),u(!0),e.next=15;break;case 10:return e.next=12,jr(t);case 12:setTimeout((function(){return c()}),500),s("Phim \u0111\xe3 b\u1ecb x\xf3a v\u0129nh vi\u1ec5n"),u(!0);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(nr.jsxs)("tr",{children:[Object(nr.jsx)(Dr.a,{open:v.modalWarning,onClose:function(){w(Object(g.a)(Object(g.a)({},v),{},{modalWarning:!v.modalWarning}))},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:"flex items-center justify-center",children:Object(nr.jsxs)("div",{className:"bg-black-body flex items-center flex-col overflow-hidden rounded-2xl outline-none relative px-8 py-14 sm:px-24 sm:py-24",children:[Object(nr.jsx)("div",{className:"absolute top-1rem sm:top-3rem right-1rem sm:right-3rem bg-black-body hover:bg-gray-primary-d transition-all duration-200 p-2 rounded-full cursor-pointer",onClick:function(){w(Object(g.a)(Object(g.a)({},v),{},{modalWarning:!1}))},children:Object(nr.jsx)(Mr.a,{className:"text-30 text-white"})}),Object(nr.jsx)(Zn.a,{className:"text-80 text-red-primary"}),Object(nr.jsx)("h3",{className:"text-30 text-red-primary mt-6 pb-4 font-bold",children:"C\u1ea2NH B\xc1O"}),Object(nr.jsx)("span",{className:"text-20 text-white mb-16 block w-85% text-center text-red-primary",children:"H\xe0nh \u0111\u1ed9ng x\xf3a n\xe0y kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c c\xe2n nh\u1eafc tr\u01b0\u1edbc khi x\xf3a"}),Object(nr.jsx)("span",{className:"text-20 text-white mb-10 text-center",children:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a ?"}),Object(nr.jsx)("button",{type:"button",className:"py-4 px-10 bg-red-primary hover:bg-red-primary-d text-20 rounded-md text-white",onClick:function(){return N(t._id)},children:"\u0110\u1ed3ng \xfd"})]})}),Object(nr.jsx)("td",{className:"text-center pl-3rem pt-4",children:a+1}),Object(nr.jsx)("td",{className:"",children:Object(nr.jsx)("div",{className:"p-film block relative left-1/2 transform -translate-x-1/2",children:Object(nr.jsx)(Hr.LazyLoadImage,{alt:d,effect:"blur",src:d,wrapperClassName:"listFilms__table--img w-full h-full absolute top-0 left-0"})})}),Object(nr.jsxs)("td",{className:"h-18rem overflow-y-auto",children:[Object(nr.jsxs)("span",{className:"block mb-2",children:[Object(nr.jsx)("strong",{className:"text-gray-primary-l",children:"T\xean phim:"})," ".concat(b)]}),Object(nr.jsxs)("span",{children:[Object(nr.jsx)("strong",{className:"text-gray-primary-l",children:"T\xean t\xecm ki\u1ebfm:"})," ".concat(j)]})]}),Object(nr.jsx)("td",{className:"capitalize",children:Br(m.join(", "))}),Object(nr.jsx)("td",{children:h.filter((function(e){for(var t=0;t<p.length;t++)if(e.genre===p[t])return!0;return!1})).map((function(e){return e.vn})).join(", ")}),Object(nr.jsx)("td",{className:"w-full h-18rem overflow-y-auto inline-block",children:x}),Object(nr.jsx)("td",{children:r?Object(nr.jsx)(gr.l,{className:"btnAction cursor-pointer text-orange-primary hover:text-orange-primary-d text-28 transition-all duration-200",onClick:function(){return y(t)}}):Object(nr.jsx)(rr.b,{to:"/admin/films/".concat(t.slug),className:"flex justify-center cursor-pointer","aria-label":"S\u1eeda phim",children:Object(nr.jsx)(gr.d,{className:"text-blue-facebook hover:text-blue-facebook-d text-26 transition-all duration-200"})})}),Object(nr.jsx)("td",{className:"pr-1rem",children:Object(nr.jsx)("div",{className:"flex justify-center cursor-pointer",children:r?Object(nr.jsx)(gr.k,{className:"btnAction text-red-primary hover:text-red-primary-d text-28 transition-all duration-200",onClick:function(){return w(Object(g.a)(Object(g.a)({},v),{},{modalWarning:!0}))}}):Object(nr.jsx)(Zn.a,{className:"btnAction text-red-primary hover:text-red-primary-d text-28 transition-all duration-200",onClick:function(){return N(t._id)}})})})]},t._id)},Yn=(r(386),function(e){var t=Object(tr.h)(),r=t.pathname,a=t.state,c=-1!==r.indexOf("bin"),s=Object(n.useState)({films:[],loading:!0,flag:!0,genreFilter:[],sortFilms:qn[0],search:""}),i=Object(cr.a)(s,2),u=i[0],d=i[1],b=Object(n.useState)(!1),j=Object(cr.a)(b,2),m=j[0],p=j[1],x=Object(n.useState)(""),h=Object(cr.a)(x,2),O=h[0],f=h[1];Object(n.useEffect)((function(){Object(o.a)(Object(l.a)().mark((function e(){var t,r,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(Object(g.a)(Object(g.a)({},u),{},{loading:!0})),t={},0!==u.genreFilter.length&&(t.genre=u.genreFilter),u.search&&(t.q=u.search),c&&(t.bin=!0),r=zn.a.stringify(t),e.next=8,ur(r?"?".concat(r):r);case 8:n=e.sent,d((function(e){return Object(g.a)(Object(g.a)({},e),{},{sortFilms:qn[0],films:n.data,loading:!1})}));case 10:case"end":return e.stop()}}),e)})))()}),[u.flag,u.genreFilter]),Object(n.useEffect)((function(){a&&(f("update"===a?"C\u1eadp nh\u1eadt phim th\xe0nh c\xf4ng":"T\u1ea1o phim th\xe0nh c\xf4ng"),p(!0))}),[]);var v=function(){d(Object(g.a)(Object(g.a)({},u),{},{flag:!u.flag}))};return Object(nr.jsxs)("div",{className:"listFilms w-4/5 mx-auto relative opacity-80",children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:"Admin - Qu\u1ea3n l\xfd phim"})}),Object(nr.jsx)(Bn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:m,autoHideDuration:6e3,onClose:function(){return p(!m)},message:Object(nr.jsxs)("div",{className:"flex items-center mr-10",children:[Object(nr.jsx)(Jn.a,{className:"text-20 leading-20"}),Object(nr.jsx)("span",{className:"text-20 ml-4",children:O})]}),action:Object(nr.jsx)(Xn.a,{className:"pr-4 text-30 text-red-primary leading-20 cursor-pointer",onClick:function(){return p(!1)}})}),Object(nr.jsx)(Qn,{sortData:u.sortFilms,handleData:function(e){d(Object(g.a)(Object(g.a)({},u),{},{sortFilms:e,films:u.films.sort((function(t,r){var n="dateZa"===e.value||"nameZa"===e.value;switch(e.type){case"name":return n?t.title<r.title?1:t.title>r.title?-1:0:t.title<r.title?-1:t.title>r.title?1:0;case"date":return n?new Date(t.date)-new Date(r.date):new Date(r.date)-new Date(t.date);default:return new Date(r.date)-new Date(t.date)}}))}))},handleSortData:function(e){d(Object(g.a)(Object(g.a)({},u),{},{sortFilms:e}))},handleFlag:v,handleGenreFilter:function(e){d(Object(g.a)(Object(g.a)({},u),{},{genreFilter:e}))},handleSearch:function(e){d(Object(g.a)(Object(g.a)({},u),{},{search:e}))}}),Object(nr.jsxs)("div",{className:"bg-black-body flex flex-col pb-6 rounded-xl overflow-hidden",children:[Object(nr.jsxs)("div",{className:"flex bg-black-navbar px-8 justify-between items-center border-b border-gray-primary-d",children:[Object(nr.jsx)("h1",{className:"listFilms__heading text-24 font-bold text-white py-4",children:"Danh s\xe1ch phim"}),Object(nr.jsxs)("div",{className:"",children:[Object(nr.jsx)(rr.b,{to:"/admin/films/add",className:"bg-red-primary text-16 text-white py-3 px-6 rounded-md hover:bg-red-primary-d mr-6",children:"Th\xeam phim"}),Object(nr.jsx)(rr.b,{to:"/admin/manage/films".concat(c?"":"/bin"),className:"border border-red-primary text-16 text-red-primary py-3 px-6 rounded-md hover:bg-gray-primary-d",children:c?"Danh s\xe1ch phim":"Th\xf9ng r\xe1c"})]})]}),u.loading?Object(nr.jsx)(ar,{}):Object(nr.jsx)("div",{className:"listFilms__wrapTable h-70rem",children:Object(nr.jsxs)("table",{children:[Object(nr.jsx)("thead",{children:Object(nr.jsxs)("tr",{children:[Object(nr.jsx)("th",{className:"pl-3rem",style:{width:"2%"},children:"Stt"}),Object(nr.jsx)("th",{children:"Poster"}),Object(nr.jsx)("th",{style:{width:"18%"},children:"T\xean phim"}),Object(nr.jsx)("th",{style:{width:"14%"},children:"Di\u1ec5n vi\xean"}),Object(nr.jsx)("th",{style:{width:"14%"},children:"Th\u1ec3 lo\u1ea1i"}),Object(nr.jsx)("th",{style:{width:"20%"},children:"N\u1ed9i dung"}),Object(nr.jsx)("th",{className:"pr-1rem",style:{width:"10%"},colSpan:"2",children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(nr.jsx)("tbody",{children:u.films.map((function(e,t){return Object(nr.jsx)($n,{film:e,isBin:c,index:t,handleFlag:v,setMessage:f,setLoading:p},e._id)}))})]})})]})]})}),ea=function(e){var t=e.user,r=e.toggleModalChangePassword,a=e.handleSnackBar,c=Object(n.useState)({passwordAdmin:"",newPassword:"",reNewPassword:"",error:""}),s=Object(cr.a)(c,2),i=s[0],u=s[1],d=function(){var e=Object(o.a)(Object(l.a)().mark((function e(n){var c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),c={passwordAdmin:i.passwordAdmin,newPassword:i.newPassword},i.newPassword===i.reNewPassword){e.next=7;break}u(Object(g.a)(Object(g.a)({},i),{},{error:"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng kh\u1edbp"})),e.next=12;break;case 7:return u(Object(g.a)(Object(g.a)({},i),{},{error:""})),e.next=10,k(t._id,c);case 10:r(),a("\u0110\u1ed5i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),u(Object(g.a)(Object(g.a)({},i),{},{error:e.t0.response.data.msg}));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)("h3",{className:"text-30 lg:text-40 text-white font-bold mb-2",children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),Object(nr.jsxs)("p",{className:"text-16 sm:text-18 text-red-primary text-center mb-10 w-30rem sm:w-35rem",children:[Object(nr.jsx)("strong",{children:"L\u01b0u \xfd:"})," Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u s\u1ebd t\u1ef1 \u0111\u1ed9ng \u0111\u0103ng xu\u1ea5t tr\xean t\u1ea5t c\u1ea3 c\xe1c thi\u1ebft b\u1ecb\n                k\u1ec3 c\u1ea3 thi\u1ebft b\u1ecb n\xe0y"]}),Object(nr.jsxs)("form",{onSubmit:d,children:[i.error?Object(nr.jsx)("div",{className:"bg-gray-primary-d mb-8 border border-red-500 rounded-lg text-16 sm:text-18 py-4 px-6 text-red-500 w-30rem sm:w-35rem text-center",children:i.error}):null,Object(nr.jsx)("input",{type:"password",value:i.passwordAdmin,className:"bg-gray-primary-d text-white text-16 sm:text-18 px-8 py-6 mb-6 rounded-md w-30rem sm:w-35rem block",onChange:function(e){u(Object(g.a)(Object(g.a)({},i),{},{passwordAdmin:e.target.value}))},placeholder:"M\u1eadt kh\u1ea9u admin"}),Object(nr.jsx)("input",{type:"password",value:i.newPassword,className:"bg-gray-primary-d text-white text-16 sm:text-18 px-8 py-6 mb-6 rounded-md w-30rem sm:w-35rem block",onChange:function(e){u(Object(g.a)(Object(g.a)({},i),{},{newPassword:e.target.value}))},placeholder:"M\u1eadt kh\u1ea9u m\u1edbi"}),Object(nr.jsx)("input",{type:"password",value:i.reNewPassword,className:"bg-gray-primary-d text-white text-16 sm:text-18 px-8 py-6 mb-6 rounded-md w-30rem sm:w-35rem block",onChange:function(e){u(Object(g.a)(Object(g.a)({},i),{},{reNewPassword:e.target.value}))},placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi"}),Object(nr.jsx)("button",{className:"text-16 text-white bg-red-primary px-8 py-6 font-bold rounded-md transition-all duration-200 hover:bg-red-primary-d mt-6 w-full",type:"submit",children:"Thay \u0111\u1ed5i"})]})]})},ta=r(7),ra=r(418),na=r(287),aa=r.n(na),ca=function(e){var t=e.user,r=e.index,a=e.handleUpdateUser,c=e.handleChangePassword,s=e.handleSnackBar,i=t.userName,l=t.userEmail,o=t.isActive,u=t.imageUser,d=t.date,b=Object(n.useState)(o),j=Object(cr.a)(b,2),m=j[0],p=j[1],x=Object(ta.a)({switchBase:{color:"rgb(173, 0, 9)","&$checked":{color:"rgb(229, 9, 20)"},"&$checked + $track":{backgroundColor:"rgb(229, 9, 20)"}},checked:{},track:{}})(ra.a);return Object(nr.jsxs)("tr",{children:[Object(nr.jsx)("td",{className:"text-center pl-3rem pt-4",children:r+1}),Object(nr.jsx)("td",{className:"",children:Object(nr.jsx)("div",{className:"p-square block relative left-1/2 transform -translate-x-1/2",children:Object(nr.jsx)(Hr.LazyLoadImage,{alt:u,effect:"blur",src:u,wrapperClassName:"listUsers__table--img w-full h-full absolute top-0 left-0"})})}),Object(nr.jsx)("td",{children:i}),Object(nr.jsx)("td",{children:l}),Object(nr.jsx)("td",{children:aa()(new Date(d),"dddd, mmmm dS, yyyy, h:MM TT")}),Object(nr.jsx)("td",{children:Object(nr.jsx)("div",{className:"flex justify-center",children:Object(nr.jsx)(x,{checked:m,onChange:function(){p(!m),Ke(t._id,{isActive:!m}),s("C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng")},name:"isActive",inputProps:{"aria-label":"secondary checkbox"}})})}),Object(nr.jsxs)("td",{className:"flex justify-center",children:[Object(nr.jsx)("button",{type:"button",onClick:function(){return a(t)},className:"flex justify-center cursor-pointer mr-10",children:Object(nr.jsx)(gr.d,{className:"text-blue-facebook hover:text-blue-facebook-d text-22 transition-all duration-200"})}),Object(nr.jsx)("button",{type:"button",onClick:function(){return c(t)},children:Object(nr.jsx)(tn.e,{className:"text-22 text-orange-primary transition-all duration-200 hover:text-orange-primary-d"})})]})]},t._id)},sa=function(e){var t=e.setFlag,r=e.currentUser,a=e.handleSnackBar,c=Object(n.useState)({switchMode:!1,imageUser:r.imageUser,userName:r.userName}),s=Object(cr.a)(c,2),i=s[0],u=s[1],d=function(){var e=Object(o.a)(Object(l.a)().mark((function e(n){var c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),c={userName:i.userName===r.userName?void 0:i.userName,imageUser:r.imageUser===i.imageUser?void 0:i.imageUser,isUpload:i.switchMode},e.next=5,Ke(r._id,c);case 5:a("C\u1eadp nh\u1eadt ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng"),t(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(nr.jsx)("div",{children:Object(nr.jsxs)("form",{onSubmit:d,className:"flex items-center flex-col",children:[Object(nr.jsx)("h3",{className:"text-30 sm:text-40 w-30rem sm:w-unset font-bold text-white mb-16 text-center",children:"C\u1eadp nh\u1eadt ng\u01b0\u1eddi d\xf9ng"}),Object(nr.jsxs)("label",{className:"flex items-center justify-center mb-6",children:[Object(nr.jsx)("span",{className:"text-16 text-white mr-4",children:"URL"}),Object(nr.jsx)(an,{checked:i.switchMode,onChange:function(){u(Object(g.a)(Object(g.a)({},i),{},{switchMode:!i.switchMode,imageUser:""}))},name:"checkedC"}),Object(nr.jsx)("span",{className:"text-16 text-white ml-4",children:"Upload"})]}),i.switchMode?Object(nr.jsx)(sn,{id:"imageUser",value:i.imageUser,placeholder:"Ch\u1ecdn \u1ea3nh",width:"w-18rem",setState:function(e){u(Object(g.a)(Object(g.a)({},i),{},{imageUser:e}))},styleContainer:"flex-col",styleLabel:"mt-10"}):Object(nr.jsx)(nr.Fragment,{children:Object(nr.jsx)(on,{value:i.imageUser,placeholder:"URL \u1ea3nh",className:"w-18rem mb-10",styleContainer:"w-30rem",setState:function(e){return u(Object(g.a)(Object(g.a)({},i),{},{imageUser:e}))}})}),Object(nr.jsx)("h3",{className:"mt-10 text-white text-20 font-bold w-full",children:"T\xean ng\u01b0\u1eddi d\xf9ng"}),Object(nr.jsx)("input",{type:"text",value:i.userName,className:"bg-gray-primary-d text-white mt-4 text-16 sm:text-18 px-8 py-6 mb-6 rounded-md w-30rem sm:w-full block",onChange:function(e){u(Object(g.a)(Object(g.a)({},i),{},{userName:e.target.value}))},placeholder:"T\xean ng\u01b0\u1eddi d\xf9ng"}),Object(nr.jsx)("button",{type:"submit",disabled:r.userName===i.userName&&r.imageUser===i.imageUser,className:"disabled:bg-gray-primary mx-auto block text-white bg-red-primary text-16 sm:text-18 font-bold py-4 px-10 rounded-md mt-8 text-center hover:bg-red-primary-d transition duration-200",children:"L\u01b0u"})]})})},ia=(r(387),function(e){var t=Object(n.useState)({loading:!0,sortUsers:qn[0],users:[],flag:!0,search:"",modalUpdateUser:!1,modalChangePassword:!1,currentUser:{}}),r=Object(cr.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(!1),i=Object(cr.a)(s,2),u=i[0],d=i[1],b=Object(n.useState)(""),j=Object(cr.a)(b,2),m=j[0],p=j[1];Object(n.useEffect)((function(){Object(o.a)(Object(l.a)().mark((function e(){var t,r,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(g.a)(Object(g.a)({},a),{},{loading:!0})),t={},a.search&&(t.q=a.search),r=zn.a.stringify(t),e.next=6,We(r?"?".concat(r):r);case 6:n=e.sent,c((function(e){return Object(g.a)(Object(g.a)({},e),{},{sortUsers:qn[0],users:n.data,loading:!1,modalUpdateUser:!1})}));case 8:case"end":return e.stop()}}),e)})))()}),[a.flag]);var x=function(e){p(e),d(!0)},h=function(){c(Object(g.a)(Object(g.a)({},a),{},{modalUpdateUser:!a.modalUpdateUser}))},O=function(){c(Object(g.a)(Object(g.a)({},a),{},{modalChangePassword:!a.modalChangePassword}))};return Object(nr.jsxs)("div",{className:"listUsers w-4/5 mx-auto relative opacity-80",children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:"Admin - Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"})}),Object(nr.jsx)(Qn,{sortData:a.sortUsers,handleData:function(e){c(Object(g.a)(Object(g.a)({},a),{},{sortUsers:e,users:a.users.sort((function(t,r){var n="dateZa"===e.value||"nameZa"===e.value;switch(e.type){case"name":return n?t.userName<r.userName?1:t.userName>r.userName?-1:0:t.userName<r.userName?-1:t.userName>r.userName?1:0;case"date":return n?new Date(t.date)-new Date(r.date):new Date(r.date)-new Date(t.date);default:return new Date(r.date)-new Date(t.date)}}))}))},handleSortData:function(e){c(Object(g.a)(Object(g.a)({},a),{},{sortUsers:e}))},handleFlag:function(){c(Object(g.a)(Object(g.a)({},a),{},{flag:!a.flag}))},handleSearch:function(e){c(Object(g.a)(Object(g.a)({},a),{},{search:e}))}}),Object(nr.jsxs)("div",{className:"bg-black-body flex flex-col pb-6 rounded-xl overflow-hidden",children:[Object(nr.jsxs)("div",{className:"flex bg-black-navbar px-8 justify-between items-center border-b border-gray-primary-d",children:[Object(nr.jsx)("h1",{className:"listUsers__heading text-24 font-bold text-white py-4",children:"Danh s\xe1ch ng\u01b0\u1eddi d\xf9ng"}),Object(nr.jsx)(rr.b,{to:"/admin/manage/users/register",className:"bg-red-primary text-16 text-white py-3 px-6 rounded-md hover:bg-red-primary-d",children:"Th\xeam ng\u01b0\u1eddi d\xf9ng"})]}),a.loading?Object(nr.jsx)(ar,{}):Object(nr.jsxs)("div",{className:"listUsers__wrapTable h-50rem",children:[Object(nr.jsx)(Bn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:u,autoHideDuration:6e3,onClose:function(){return d(!u)},message:Object(nr.jsxs)("div",{className:"flex items-center mr-10",children:[Object(nr.jsx)(Jn.a,{className:"text-20 leading-20"}),Object(nr.jsx)("span",{className:"text-20 ml-4",children:m})]}),action:Object(nr.jsx)(Xn.a,{className:"pr-4 text-30 text-red-primary leading-20 cursor-pointer",onClick:function(){return d(!1)}})}),Object(nr.jsx)(Dr.a,{open:a.modalUpdateUser,onClose:h,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:"flex items-center justify-center",children:Object(nr.jsxs)("div",{className:"bg-black-body flex items-center flex-col overflow-hidden rounded-2xl outline-none relative px-8 py-14 sm:px-24 sm:py-24",children:[Object(nr.jsx)("div",{className:"absolute top-1rem sm:top-3rem right-1rem sm:right-3rem bg-black-body hover:bg-gray-primary-d transition-all duration-200 p-2 rounded-full cursor-pointer",onClick:h,children:Object(nr.jsx)(Mr.a,{className:"text-30 text-white"})}),Object(nr.jsx)(sa,{currentUser:a.currentUser,setFlag:function(){return c(Object(g.a)(Object(g.a)({},a),{},{flag:!a.flag}))},handleSnackBar:x})]})}),Object(nr.jsx)(Dr.a,{open:a.modalChangePassword,onClose:O,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:"flex items-center justify-center",children:Object(nr.jsxs)("div",{className:"bg-black-body flex items-center flex-col overflow-hidden rounded-2xl outline-none relative px-8 py-14 sm:px-24 sm:py-24",children:[Object(nr.jsx)("div",{className:"absolute top-1rem sm:top-3rem right-1rem sm:right-3rem bg-black-body hover:bg-gray-primary-d transition-all duration-200 p-2 rounded-full cursor-pointer",onClick:O,children:Object(nr.jsx)(Mr.a,{className:"text-30 text-white"})}),Object(nr.jsx)(ea,{user:a.currentUser,toggleModalChangePassword:O,handleSnackBar:x})]})}),Object(nr.jsxs)("table",{className:"w-full",children:[Object(nr.jsx)("thead",{children:Object(nr.jsxs)("tr",{children:[Object(nr.jsx)("th",{className:"pl-3rem",style:{width:"5%"},children:"Stt"}),Object(nr.jsx)("th",{children:"Avatar"}),Object(nr.jsx)("th",{style:{width:"25%"},children:"T\xean"}),Object(nr.jsx)("th",{style:{width:"25%"},children:"Email"}),Object(nr.jsx)("th",{style:{width:"20%"},children:"Ng\xe0y tham gia"}),Object(nr.jsx)("th",{style:{width:"10%"},children:"Tr\u1ea1ng th\xe1i"}),Object(nr.jsx)("th",{className:"pr-1rem",style:{width:"10%"},children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(nr.jsx)("tbody",{children:a.users.map((function(e,t){return Object(nr.jsx)(ca,{user:e,index:t,handleUpdateUser:function(e){return c(Object(g.a)(Object(g.a)({},a),{},{currentUser:e,modalUpdateUser:!a.modalUpdateUser}))},handleChangePassword:function(e){return c(Object(g.a)(Object(g.a)({},a),{},{currentUser:e,modalChangePassword:!a.modalChangePassword}))},handleSnackBar:x},e._id)}))})]})]})]})]})}),la=a.a.memo(ia),oa=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return xe(e)})),r=Object(i.c)((function(e){return pe(e)})),a=Object(i.c)((function(e){return me(e)})),c=Object(n.useState)({imageAdmin:"",switchMode:!1,modalImage:!1,modalChangePassword:!1,oldPassword:"",newPassword:"",reNewPassword:""}),s=Object(cr.a)(c,2),l=s[0],o=s[1];Object(n.useEffect)((function(){a&&o(Object(g.a)(Object(g.a)({},l),{},{imageAdmin:t.get("imageAdmin")}))}),[t]);var u=function(){o(Object(g.a)(Object(g.a)({},l),{},{modalImage:!l.modalImage}))},d=function(){o(Object(g.a)(Object(g.a)({},l),{},{modalChangePassword:!l.modalChangePassword}))};return Object(nr.jsxs)("div",{className:"manageAccount h-screen flex justify-center items-center flex-col",children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:"Admin - Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"})}),r?Object(nr.jsx)(ar,{}):a?Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(un,{modalImage:l.modalImage,toggleModalImage:u,toggleSwitchMode:function(){o(Object(g.a)(Object(g.a)({},l),{},{switchMode:!l.switchMode,imageAdmin:""}))},switchMode:l.switchMode,onChange:function(e){o(Object(g.a)(Object(g.a)({},l),{},{imageAdmin:e}))},image:l.imageAdmin,id:"imageAdmin"}),Object(nr.jsx)(jn,{modalChangePassword:l.modalChangePassword,toggleModalChangePassword:d}),Object(nr.jsx)("h2",{className:"text-30 sm:text-50 text-white font-bold mb-20",children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"}),Object(nr.jsxs)("form",{onSubmit:function(r){r.preventDefault();var n={imageAdmin:t.get("imageAdmin")===l.imageAdmin?void 0:l.imageAdmin,isUpload:l.switchMode};e(te.updateAdmin(n)),o(Object(g.a)(Object(g.a)({},l),{},{switchMode:!1}))},children:[Object(nr.jsx)("div",{className:"relative w-14rem sm:w-20rem group mx-auto cursor-pointer mb-12",onClick:u,children:Object(nr.jsxs)("div",{className:"p-quare w-full",children:[Object(nr.jsx)("div",{className:"absolute top-0 flex justify-center items-center left-0 w-full h-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition duration-200",children:Object(nr.jsx)(tn.b,{className:" text-40 text-white"})}),Object(nr.jsx)("img",{src:l.imageAdmin?l.imageAdmin:t.get("imageAdmin"),className:"w-full h-full object-cover",alt:"avatar"})]})}),Object(nr.jsx)("button",{type:"submit",disabled:t.get("imageAdmin")===l.imageAdmin,className:"disabled:bg-gray-primary mx-auto block text-white bg-red-primary text-16 sm:text-18 font-bold py-4 px-10 rounded-md mt-8 text-center hover:bg-red-primary-d transition duration-200",children:"L\u01b0u"})]}),Object(nr.jsx)("span",{className:"text-white text-24 sm:text-30 hover:underline mt-20 cursor-pointer",onClick:d,children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"})]}):Object(nr.jsx)(tr.a,{to:"/admin"})]})},ua=(r(388),function(){var e=Object(tr.h)().pathname,t=-1!==e.indexOf("films"),r=-1!==e.indexOf("users"),n=-1!==e.indexOf("categories");return Object(nr.jsx)("div",{className:"sidebarAdmin w-30rem bg-black-body relative",children:Object(nr.jsxs)("ul",{className:"sidebarAdmin__list",children:[Object(nr.jsx)("li",{className:"sidebarAdmin__item text-18 cursor-pointer text-white",children:Object(nr.jsxs)(rr.b,{to:"/admin/manage/films",className:"relative group ".concat(t?"bg-red-primary bg-opacity-10":null),children:[Object(nr.jsx)("div",{className:"absolute w-0.6rem h-full bg-red-primary left-0 top-0 opacity-0 group-hover:opacity-100 ".concat(t?"opacity-100":null)}),Object(nr.jsx)(tn.d,{className:"text-22 mr-10 ".concat(t?"opacity-100":"opacity-50")}),Object(nr.jsx)("span",{className:t?"opacity-100":"opacity-50",children:"Qu\u1ea3n l\xfd phim"})]})}),Object(nr.jsx)("li",{className:"sidebarAdmin__item text-18 cursor-pointer text-white",children:Object(nr.jsxs)(rr.b,{to:"/admin/manage/users",className:"relative group ".concat(r?"bg-red-primary bg-opacity-10":null),children:[Object(nr.jsx)("div",{className:"absolute w-0.6rem h-full bg-red-primary left-0 top-0 opacity-0 group-hover:opacity-100 ".concat(r?"opacity-100":null)}),Object(nr.jsx)(tn.f,{className:"text-22 mr-10 ".concat(r?"opacity-100":"opacity-50")}),Object(nr.jsx)("span",{className:r?"opacity-100":"opacity-50",children:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"})]})}),Object(nr.jsx)("li",{className:"sidebarAdmin__item text-18 cursor-pointer text-white",children:Object(nr.jsxs)(rr.b,{to:"/admin/manage/categories",className:"relative group ".concat(n?"bg-red-primary bg-opacity-10":null),children:[Object(nr.jsx)("div",{className:"absolute w-0.6rem h-full bg-red-primary left-0 top-0 opacity-0 group-hover:opacity-100 ".concat(n?"opacity-100":null)}),Object(nr.jsx)(tn.a,{className:"text-22 mr-10 ".concat(n?"opacity-100":"opacity-50")}),Object(nr.jsx)("span",{className:n?"opacity-100":"opacity-50",children:"Qu\u1ea3n l\xfd th\u1ec3 lo\u1ea1i"})]})})]})})}),da=function(e){var t=Object(i.b)(),r=e.match,a=Object(i.c)((function(e){return me(e)}));Object(n.useEffect)((function(){t(te.loadAdmin())}),[]);return Object(nr.jsx)(nr.Fragment,{children:"object"===typeof a?Object(nr.jsx)(ar,{}):Object(nr.jsxs)(tr.d,{children:[Object(nr.jsx)(_n,{path:"".concat(r.url),component:Pn,exact:!0}),Object(nr.jsx)(yn,{path:"".concat(r.url,"/manage/users/register"),component:Pn}),Object(nr.jsx)(tr.b,{path:"".concat(r.url,"/manage/:params"),component:function(){var e=Object(n.useState)(!0),t=Object(cr.a)(e,2),a=t[0],c=t[1];return Object(nr.jsxs)("div",{className:"h-full bg-black-light",children:[Object(nr.jsx)(Mn,{}),Object(nr.jsxs)("div",{className:"flex",children:[Object(nr.jsx)("div",{className:" fixed z-0 top-0 w-full opacity-30",children:Object(nr.jsx)("img",{className:"w-full h-full object-cover filter blur",src:"https://res.cloudinary.com/nghiemduong2000/image/upload/v1618500603/VMOflix%20Project/VMOflix%20-%20base/vmoflix-tv-logo_gd1rmx.webp",alt:""})}),Object(nr.jsx)(ua,{}),Object(nr.jsxs)("div",{className:"flex-1 pb-20 relative",children:[Object(nr.jsx)(Dn,{flag:a}),Object(nr.jsxs)(tr.d,{children:[Object(nr.jsx)(yn,{path:"".concat(r.url,"/manage/films"),component:Yn,exact:!0}),Object(nr.jsx)(yn,{path:"".concat(r.url,"/manage/films/bin"),component:Yn,exact:!0}),Object(nr.jsx)(yn,{path:"".concat(r.url,"/manage/users"),component:la}),Object(nr.jsx)(yn,{path:"".concat(r.url,"/manage/categories"),component:Wn,trigger:function(){return c(!a)}})]})]})]})]})}}),Object(nr.jsx)(tr.b,{component:function(){return Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(Mn,{}),Object(nr.jsxs)(tr.d,{children:[Object(nr.jsx)(tr.b,{path:"".concat(r.url,"/account"),component:oa}),Object(nr.jsx)(tr.b,{path:"".concat(r.url,"/films/add"),component:Ln}),Object(nr.jsx)(tr.b,{path:"".concat(r.url,"/films/:slug"),component:Ln})]})]})}})]})})},ba=a.a.memo(da),ja=r(289),ma=r(290),pa=r(288),xa=r(416),ha=function(e){var t=e.reviews,r=function(e){return 0===t.length?0:(t.filter((function(t){return t.rating===e})).length/t.length*100).toFixed(1)};return Object(nr.jsxs)("div",{className:"reviewFilm__overall",children:[Object(nr.jsx)("h4",{children:"\u0110\xe1nh gi\xe1 t\u1ed5ng quan"}),Object(nr.jsx)("span",{children:0===t.length?0:(t.reduce((function(e,t){return e+t.rating}),0)/t.length).toFixed(1)}),Object(nr.jsx)("div",{className:"reviewFilm__ratingWrap",children:Object(nr.jsx)(Er,{className:"reviewFilm__star",ratingPercent:0===t.length?0:t.reduce((function(e,t){return e+t.rating}),0)/t.length/5*100})}),Object(nr.jsxs)("div",{className:"reviewFilm__progressWrap",children:[Object(nr.jsxs)("div",{className:"reviewFilm__progress",children:[Object(nr.jsx)(Er,{className:"reviewFilm__star",ratingPercent:100}),Object(nr.jsx)(xa.a,{variant:"determinate",value:parseFloat(r(5)),className:"reviewFilm__bar"}),Object(nr.jsx)("div",{className:"reviewFilm__percent",children:"".concat(r(5),"%")})]}),Object(nr.jsxs)("div",{className:"reviewFilm__progress",children:[Object(nr.jsx)(Er,{className:"reviewFilm__star",ratingPercent:80}),Object(nr.jsx)(xa.a,{variant:"determinate",className:"reviewFilm__bar",value:parseFloat(r(4))}),Object(nr.jsx)("div",{className:"reviewFilm__percent",children:"".concat(r(4),"%")})]}),Object(nr.jsxs)("div",{className:"reviewFilm__progress",children:[Object(nr.jsx)(Er,{className:"reviewFilm__star",ratingPercent:60}),Object(nr.jsx)(xa.a,{variant:"determinate",className:"reviewFilm__bar",value:parseFloat(r(3))}),Object(nr.jsx)("div",{className:"reviewFilm__percent",children:"".concat(r(3),"%")})]}),Object(nr.jsxs)("div",{className:"reviewFilm__progress",children:[Object(nr.jsx)(Er,{className:"reviewFilm__star",ratingPercent:40}),Object(nr.jsx)(xa.a,{variant:"determinate",className:"reviewFilm__bar",value:parseFloat(r(2))}),Object(nr.jsx)("div",{className:"reviewFilm__percent",children:"".concat(r(2),"%")})]}),Object(nr.jsxs)("div",{className:"reviewFilm__progress",children:[Object(nr.jsx)(Er,{className:"reviewFilm__star",ratingPercent:20}),Object(nr.jsx)(xa.a,{variant:"determinate",className:"reviewFilm__bar",value:parseFloat(r(1))}),Object(nr.jsx)("div",{className:"reviewFilm__percent",children:"".concat(r(1),"%")})]})]})]})},Oa=r(419),fa=function(e){var t=e.reviews;return Object(nr.jsx)("div",{className:"reviewFilm__comments",children:t.length>0?t.map((function(e){return Object(nr.jsxs)("div",{className:"productReview flex border-b border-gray-primary-d py-1.5rem px-1rem w-full",children:[Object(nr.jsx)("img",{src:e.user.imageUser,alt:"avatar",className:"w-4rem h-4rem sm:w-5rem sm:h-5rem mr-1.5rem rounded-md"}),Object(nr.jsxs)("div",{className:"reviewFilm__comment-info",children:[Object(nr.jsx)("span",{className:"text-16 block font-bold text-red-primary mb-1",children:e.user.userName}),Object(nr.jsx)(Er,{className:"reviewFilm__comment-info-star",ratingPercent:20*e.rating}),Object(nr.jsx)("p",{className:"mt-1rem text-14",children:e.comment})]})]},e._id)})):Object(nr.jsx)("span",{className:"reviewFilm__noComments",children:"Ch\u01b0a c\xf3 b\xecnh lu\u1eadn"})})},ga=a.a.memo(fa),va=function(e){var t=e.currentFilm,r=e.handleUpdateFilm,a=t.reviews,c=Object(tr.h)(),s=Object(i.c)((function(e){return Wt(e)})),u=Object(i.c)((function(e){return Ht(e)})),d=Object(n.useState)({comment:"",rating:"",loading:!1}),b=Object(cr.a)(d,2),j=b[0],m=b[1],p=Object(n.useState)(""),x=Object(cr.a)(p,2),h=x[0],O=x[1],f=function(){var e=Object(o.a)(Object(l.a)().mark((function e(n){var c,s,i,o,d,b,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),!(j.rating>0&&j.comment)){e.next=13;break}return c=Object(Oa.a)(),s=Object(kn.a)(a),i=u.toJS(),o=i._id,d=i.imageUser,b=i.userName,p=i.userEmail,s.unshift({_id:c,user:{_id:o,imageUser:d,userName:b,userEmail:p},rating:j.rating,comment:j.comment}),e.next=9,br(t._id,{reviews:s});case 9:r(Object(g.a)(Object(g.a)({},t),{},{reviews:s})),m(Object(g.a)(Object(g.a)({},j),{},{rating:0,comment:"",loading:!0})),e.next=14;break;case 13:O("Vui l\xf2ng nh\u1eadp sao v\xe0 b\xecnh lu\u1eadn");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(nr.jsxs)("div",{className:"reviewFilm__write",children:[Object(nr.jsx)(Bn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:j.loading,autoHideDuration:6e3,onClose:function(){return m(Object(g.a)(Object(g.a)({},j),{},{loading:!1}))},message:Object(nr.jsxs)("div",{className:"flex items-center mr-10",children:[Object(nr.jsx)(Jn.a,{className:"text-20 leading-20"}),Object(nr.jsx)("span",{className:"text-20 ml-4",children:"B\xecnh lu\u1eadn \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi"})]}),action:Object(nr.jsx)(Xn.a,{className:"pr-4 text-30 text-red-primary leading-20 cursor-pointer",onClick:function(){return m(Object(g.a)(Object(g.a)({},j),{},{loading:!1}))}})}),Object(nr.jsxs)("div",{className:"reviewFilm__write-form",children:[Object(nr.jsx)("h4",{children:"B\xecnh lu\u1eadn"}),s?Object(nr.jsxs)("form",{className:"py-1.5rem px-2rem sm:px-2.5rem bg-black-navbar bg-opacity-50",onSubmit:f,children:[h?Object(nr.jsx)("div",{className:"text-14 text-red-primary border border-red-primary px-5 py-3 bg-black-body rounded-md",children:h}):null,Object(nr.jsxs)("div",{className:"reviewFilm__write-ratingWrap",children:[Object(nr.jsx)("span",{children:"\u0110\xe1nh gi\xe1:"}),Object(nr.jsx)(Er,{className:"reviewFilm__write-rating",handleChangeVote:function(e){m(Object(g.a)(Object(g.a)({},j),{},{rating:e}))},ratingPercent:20*j.rating})]}),Object(nr.jsx)("textarea",{placeholder:"M\u1eddi b\u1ea1n vi\u1ebft b\xecnh lu\u1eadn ...",className:"reviewFilm__write-comment",value:j.comment,onChange:function(e){return m(Object(g.a)(Object(g.a)({},j),{},{comment:e.target.value}))}}),Object(nr.jsx)("div",{className:"reviewFilm__write-form-submit",children:Object(nr.jsx)("button",{type:"submit",className:"text-14 font-bold bg-red-primary px-4 py-2 rounded-md transition-all duration-200 hover:bg-red-primary-d focus:outline-none",children:"G\u1eedi"})})]}):Object(nr.jsxs)("div",{className:"reviewFilm__write-requireLogin",children:[Object(nr.jsx)("span",{children:"Vui l\xf2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 b\xecnh lu\u1eadn"}),Object(nr.jsx)(rr.b,{to:{pathname:"/login",state:Object(g.a)({},c)},className:"px-6 py-2 bg-red-primary hover:bg-red-primary-d transtion-all duration-200 text-16 rounded-md",children:"\u0110\u0103ng nh\u1eadp"})]})]}),Object(nr.jsx)(ga,{reviews:a})]})},wa=(r(391),function(e){var t=e.currentFilm,r=e.handleUpdateFilm;return Object(nr.jsx)("div",{className:"reviewFilm",children:Object(nr.jsxs)("div",{children:[Object(nr.jsx)(ha,{reviews:t.reviews}),Object(nr.jsx)(va,{currentFilm:t,handleUpdateFilm:r})]})})}),ya=(r(392),function(){var e,t=Object(tr.i)().slug,r=Object(tr.h)().pathname,a=Object(i.b)(),c=Object(n.useState)({}),s=Object(cr.a)(c,2),u=s[0],d=s[1],b=Object(n.useState)({}),j=Object(cr.a)(b,2),m=j[0],p=j[1],x=Object(n.useState)([]),h=Object(cr.a)(x,2),O=h[0],f=h[1],v=Object(n.useState)(!0),w=Object(cr.a)(v,2),y=w[0],N=w[1],_=Object(n.useState)(!1),k=Object(cr.a)(_,2),S=k[0],C=k[1],E=Object(i.c)((function(e){return Ht(e)})),A=Object(i.c)((function(e){return Wt(e)})),T=Object(i.c)((function(e){return Pe(e)})).toJS(),L=function(){C(0!==window.scrollY)},R=function(e){var t=E.get("history").toJS();9===t.length&&t.pop();var r=t.filter((function(t){return t.filmId!==e._id}));a(Et.updateUser({id:E.get("_id"),dataUser:{history:[{filmId:e._id,date:Date.now()}].concat(Object(kn.a)(r))}}))};Object(n.useEffect)((function(){window.addEventListener("scroll",L);var e=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(t);case 2:r=e.sent,d(r.data.film),p(r.data.film.episodes[0]),A&&R(r.data.film),f(r.data.related),N(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){window.removeEventListener("scroll",L)}}),[t]);return console.log("episode",m),Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:y?"\u0110ang t\u1ea3i phim...":"".concat(u.title," - VMOflix")})}),y?Object(nr.jsx)(ar,{}):Object(nr.jsx)(nr.Fragment,{children:Object(nr.jsxs)("div",{className:"detailFilm w-full overflow-hidden",children:[Object(nr.jsx)(fn,{addClass:"transform ".concat(S?null:"-translate-y-full")}),Object(nr.jsxs)("div",{className:"group bg-black ",children:[Object(nr.jsx)(rr.b,{to:"/",type:"button",className:"absolute z-1 bg-transparent text-white text-30 lg:text-50 top-1rem lg:top-5rem left-1rem lg:left-5rem opacity-100 xl:opacity-0 group-hover:opacity-100",children:Object(nr.jsx)(ja.a,{})}),!y&&(null===m||void 0===m?void 0:m.url)&&Object(nr.jsx)(Wr.a,{url:null===m||void 0===m?void 0:m.url,controls:!0,playing:!0,width:"100%",height:window.innerWidth>=1280?"100vh":"56.25vw"})]}),Object(nr.jsxs)("div",{className:"detailFilm__info container mt-10 mx-auto flex mb-6rem flex-wrap",children:[Object(nr.jsxs)("div",{className:"detailFilm__info-left flex-1 mb-20rem xl:mr-20 mx-4% lg:mx-0",children:[Object(nr.jsxs)("div",{className:"detailFilm__info-left-top flex items-start mb-16",children:[Object(nr.jsx)("div",{className:"w-1/4 relative mr-10",children:Object(nr.jsx)("div",{className:"p-film",children:Object(nr.jsx)("img",{className:"absolute object-cover top-0 left-0 w-full h-full",src:"".concat("http://localhost:9000/").concat(u.poster),alt:"poster"})})}),Object(nr.jsxs)("div",{className:"flex-1",children:[Object(nr.jsx)("h2",{className:"text-20 sm:text-40 font-bold text-white mb-2",children:u.title}),Object(nr.jsxs)("div",{className:"flex",children:[Object(nr.jsx)(Er,{className:"detailFilm__info-left-top-star",ratingPercent:0===u.reviews.length?0:u.reviews.reduce((function(e,t){return e+t.rating}),0)/u.reviews.length/5*100}),Object(nr.jsx)("div",{className:"detailFilm__info-left-top-share ",children:Object(nr.jsxs)(pa.FacebookButton,{url:"https://vmoflix-vn.web.app/".concat(r),appId:"761669164547706",className:"flex items-center bg-blue-facebook py-0.25rem px-1rem text-14 text-white ml-10 rounded-md",children:[Object(nr.jsx)(ma.a,{className:"mr-2"}),"Chia s\u1ebb"]})})]}),Object(nr.jsxs)("div",{className:"text-16 mb-2 mt-10",children:[Object(nr.jsx)("strong",{className:"text-gray-primary",children:"Di\u1ec5n vi\xean:"}),Object(nr.jsx)("span",{className:"capitalize text-white",children:u.actor?" ".concat(Br(null===(e=u.actor)||void 0===e?void 0:e.join(", "))):""})]}),Object(nr.jsxs)("div",{className:"text-16 mb-10",children:[Object(nr.jsx)("strong",{className:"text-gray-primary",children:"Th\u1ec3 lo\u1ea1i:"}),Object(nr.jsxs)("ul",{className:"text-white inline-block",children:[Object(nr.jsx)(nr.Fragment,{children:"\xa0"}),u.genre?T.filter((function(e){for(var t=0;t<u.genre.length;t++)if(e.genre===u.genre[t])return!0;return!1})).map((function(e,t){return Object(nr.jsxs)("li",{className:"inline-block",children:[0===t?"":Object(nr.jsx)(nr.Fragment,{children:",\xa0"}),Object(nr.jsx)(rr.b,{to:"/category?genre=".concat(e.genre),className:"hover:underline",children:e.vn})]},e._id)})):null]})]}),Object(nr.jsx)("strong",{className:"text-16 text-gray-primary",children:"N\u1ed9i dung:"}),Object(nr.jsx)("p",{className:"text-16 text-white",children:u.description})]})]}),Object(nr.jsxs)("div",{className:"mb-16",children:[Object(nr.jsx)("div",{className:"text-20 text-white mb-2",children:"Danh s\xe1ch t\u1eadp phim"}),Object(nr.jsx)("div",{className:"grid grid-cols-12 gap-8 mb-6",children:((null===u||void 0===u?void 0:u.episodes)||[]).map((function(e,t){return Object(nr.jsx)("div",{className:"\n                            bg-red-primary py-3 px-5 rounded-lg text-center text-16 text-white font-bold \n                            ".concat(e._id===(null===m||void 0===m?void 0:m._id)?"opacity-50 cursor-not-allowed":"cursor-pointer","\n                            "),onClick:function(){e._id!==(null===m||void 0===m?void 0:m._id)&&(console.log("item",e),N(!0),setTimeout((function(){p(Object(g.a)({},e)),N(!1)}),1500))},children:t+1},e._id)}))})]}),Object(nr.jsx)("div",{className:"detailFilm__info-left-bottom",children:Object(nr.jsx)(wa,{currentFilm:u,handleUpdateFilm:function(e){d(e)}})})]}),Object(nr.jsx)("div",{className:"detailFilm__info-right w-full xl:w-1/4",children:window.innerWidth>=1280?Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)("h3",{className:"text-white text-30 font-bold mb-10",children:"Phim li\xean quan"}),Object(nr.jsx)(Qr,{numItemPerList:2,margin:"25px",films:O,className:"flex-wrap",related:!0})]}):Object(nr.jsx)($r,{filmsFilter:O,genre:"Phim li\xean quan"})})]})]})})]})}),Na=a.a.memo(ya),_a=function(){var e=Object(tr.g)(),t=Object(tr.h)().pathname,r=Object(i.b)(),a=Object(tr.i)().token,c=Object(n.useState)({success:!1,msg:"",loading:!1,error:""}),s=Object(cr.a)(c,2),u=s[0],d=s[1],b=Object(n.useState)(""),j=Object(cr.a)(b,2),m=j[0],p=j[1],x=Object(n.useState)(""),h=Object(cr.a)(x,2),O=h[0],f=h[1],v=-1!==t.indexOf("reset-password"),w=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),!m){e.next=10;break}return d(Object(g.a)(Object(g.a)({},u),{},{loading:!0})),e.next=6,Ze(m);case 6:r=e.sent,d((function(e){return Object(g.a)(Object(g.a)({},e),{},{success:!0,msg:r.data.msg,loading:!1,error:"",validate:""})})),e.next=11;break;case 10:d(Object(g.a)(Object(g.a)({},u),{},{validate:"Vui l\xf2ng \u0111i\u1ec1n v\xe0o \xf4 tr\u1ed1ng"}));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),d(Object(g.a)(Object(g.a)({},u),{},{error:e.t0.response.data.msg,validate:""}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var t=Object(o.a)(Object(l.a)().mark((function t(n){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.preventDefault(),!O){t.next=10;break}return d(Object(g.a)(Object(g.a)({},u),{},{loading:!0})),t.next=6,$e(a,O);case 6:r(Et.logout()),e.push("/login"),t.next=11;break;case 10:d(Object(g.a)(Object(g.a)({},u),{},{validate:"Vui l\xf2ng \u0111i\u1ec1n v\xe0o \xf4 tr\u1ed1ng"}));case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),d(Object(g.a)(Object(g.a)({},u),{},{error:t.t0.response.data.msg,validate:""}));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(nr.jsxs)("div",{className:"forgotPassword flex justify-center items-center h-screen bg-black",children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u - VMOflix"})}),Object(nr.jsx)("div",{className:"login__background w-full h-full opacity-50 absolute",children:Object(nr.jsx)("img",{src:"https://assets.nflxext.com/ffe/siteui/vlv3/92bb3a0b-7e91-40a0-b27b-f2c3ac9ef6e4/b9637692-6620-40e8-ad9d-9ccbd5ef952b/VN-vi-20210322-popsignuptwoweeks-perspective_alpha_website_small.jpg",srcSet:"https://assets.nflxext.com/ffe/siteui/vlv3/92bb3a0b-7e91-40a0-b27b-f2c3ac9ef6e4/b9637692-6620-40e8-ad9d-9ccbd5ef952b/VN-vi-20210322-popsignuptwoweeks-perspective_alpha_website_small.jpg 1000w, https://assets.nflxext.com/ffe/siteui/vlv3/92bb3a0b-7e91-40a0-b27b-f2c3ac9ef6e4/b9637692-6620-40e8-ad9d-9ccbd5ef952b/VN-vi-20210322-popsignuptwoweeks-perspective_alpha_website_medium.jpg 1500w, https://assets.nflxext.com/ffe/siteui/vlv3/92bb3a0b-7e91-40a0-b27b-f2c3ac9ef6e4/b9637692-6620-40e8-ad9d-9ccbd5ef952b/VN-vi-20210322-popsignuptwoweeks-perspective_alpha_website_large.jpg 1800w",alt:"",className:"object-cover w-full h-full"})}),Object(nr.jsx)("div",{className:"login__navbar absolute top-0 h-9rem px-4% flex items-center justify-center sm:justify-start w-full",children:Object(nr.jsx)(rr.b,{to:"/",children:Object(nr.jsx)("img",{className:"h-4rem lg:h-4.5rem",src:"https://res.cloudinary.com/nghiemduong2000/image/upload/v1618458158/VMOflix%20Project/VMOflix%20-%20base/VMOFLIX-02-02_bpjidv.webp",alt:"Logo"})})}),Object(nr.jsxs)("form",{onSubmit:v?y:w,className:"z-1 bg-black bg-opacity-80 px-8 py-14 sm:px-24 sm:py-24 flex flex-col",children:[Object(nr.jsx)("div",{className:"flex justify-between items-center mb-10",children:Object(nr.jsx)("h3",{className:"text-30 text-white font-bold",children:v?"T\u1ea1o m\u1eadt kh\u1ea9u m\u1edbi":u.success?"Vui l\xf2ng ki\u1ec3m tra email":"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u"})}),u.loading?Object(nr.jsx)(ar,{}):u.success?Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsxs)("div",{className:"p-6 bg-gray-primary-d w-30rem sm:w-35rem text-center text-white text-14 rounded-md",children:[Object(nr.jsx)("span",{children:"Ch\xfang t\xf4i \u0111\xe3 g\u1eedi y\xeau c\u1ea7u kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u t\u1edbi"}),Object(nr.jsx)("strong",{children:" ".concat(m)}),Object(nr.jsx)("span",{children:". Vui l\xf2ng ki\u1ec3m tra email v\xe0 l\xe0m theo h\u01b0\u1edbng d\u1eabn."})]}),Object(nr.jsx)(rr.b,{to:"/",className:"text-white bg-red-primary text-16 font-bold py-6 rounded-md mt-8 text-center hover:bg-red-primary-d transition duration-200",children:"Quay v\u1ec1 trang ch\u1ee7"})]}):Object(nr.jsxs)(nr.Fragment,{children:[u.error?Object(nr.jsx)("div",{className:"bg-gray-primary-d mb-8 border border-red-500 rounded-lg text-18 py-4 px-6 text-red-500 w-30rem sm:w-35rem text-center",children:u.error}):null,u.validate?Object(nr.jsx)("div",{className:"bg-gray-primary-d mb-8 border border-red-500 rounded-lg text-18 py-4 px-6 text-red-500 w-30rem sm:w-35rem text-center",children:u.validate}):null,Object(nr.jsx)("input",{type:v?"password":"email",className:"bg-gray-primary-d text-white text-16 px-8 py-6 mb-6 rounded-md w-30rem sm:w-35rem",placeholder:v?"Nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi":"Email c\u1ee7a b\u1ea1n",onChange:function(e){v?f(e.target.value):p(e.target.value)},value:v?O:m}),Object(nr.jsx)("button",{type:"submit",className:"text-white bg-red-primary text-16 font-bold py-6 rounded-md mt-8 text-center hover:bg-red-primary-d transition duration-200",children:v?"T\u1ea1o m\u1eadt kh\u1ea9u":"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u"})]})]})]})};y.a.defaults.baseURL="https://exercise-blog-api.herokuapp.com/";var ka=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return Ge(e)}));Object(n.useEffect)((function(){e(Et.loadUser()),e(Te.getCategories());var t=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h()){e.next=17;break}return t=Notification.permission,e.next=5,navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 5:if(r=e.sent,"granted"===t){e.next=10;break}return e.next=9,j();case 9:t=e.sent;case 10:if("granted"!==t){e.next=17;break}if(r){e.next=17;break}return e.next=14,p();case 14:return r=e.sent,e.next=17,Yt(r);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();t()}),[]);var r=function(){return Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsx)(er.a,{children:Object(nr.jsx)("title",{children:"VMOflix"})}),Object(nr.jsx)(fn,{}),Object(nr.jsx)(tr.d,{children:pn.map((function(e,t){return Object(nr.jsx)(tr.b,Object(g.a)({exact:!0},e),t)}))})]})};return Object(nr.jsx)("div",{className:"App bg-black-body min-h-screen",children:Object(nr.jsxs)(rr.a,{children:[Object(nr.jsx)(gn,{}),t?Object(nr.jsx)(ar,{}):Object(nr.jsxs)(tr.d,{children:[Object(nr.jsx)(tr.b,{path:"/admin",component:ba}),Object(nr.jsx)(tr.b,{component:function(){return Object(nr.jsxs)(nr.Fragment,{children:[Object(nr.jsxs)(tr.d,{children:[Object(nr.jsx)(tr.b,{exact:!0,path:"/login",component:Pn}),Object(nr.jsx)(tr.b,{path:"/register",component:Pn}),Object(nr.jsx)(tr.b,{path:"/forgot-password",component:_a}),Object(nr.jsx)(tr.b,{path:"/reset-password/:token",component:_a}),Object(nr.jsx)(tr.b,{path:"/film/:slug",component:Na}),Object(nr.jsx)(tr.b,{component:r})]}),Object(nr.jsx)(xn,{})]})}})]})]})})},Sa=(r(393),f()({},(function(e){return Object(v.combineReducers)(Object(g.a)({admin:ge,error:R.default,user:qt,category:Me},e))})));Sa.runSaga(Qt),s.a.render(Object(nr.jsx)(i.a,{store:Sa,children:Object(nr.jsxs)(In.b,{clientId:"751886179657-ivb1fuvbm0dfo1gqh8i7lifsped1b4r3.apps.googleusercontent.com",children:[Object(nr.jsx)(An.a,{}),Object(nr.jsx)(ka,{})]})}),document.getElementById("root")),h?function(e){if("serviceWorker"in navigator){if(new URL("/V-flix",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/V-flix","/service-worker.js");u?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):d(t,e)}))}}():"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,r){"use strict";r.r(t),r.d(t,"errorTypes",(function(){return s.default})),r.d(t,"errorActions",(function(){return O})),r.d(t,"errorSelectors",(function(){return y})),r.d(t,"errorSagas",(function(){return x}));var n=r(9),a=r(82),c=r(15),s=r(71),i=Object(n.a)().mark(m),l=Object(n.a)().mark(p),o=Object(n.a)().mark(x),u=Object(a.a)(s.default.GET_ERRORS),d=Object(a.a)(s.default.CLEAR_ERRORS),b=Object(a.a)(s.default.GET_ERRORS_SUCCESS),j=Object(a.a)(s.default.CLEAR_ERRORS_SUCCESS);function m(e){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.c)(b(e.payload));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),i,null,[[0,5]])}function p(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.c)(j());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),l,null,[[0,5]])}function x(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.d)(s.default.GET_ERRORS,m);case 2:return e.next=4,Object(c.d)(s.default.CLEAR_ERRORS,p);case 4:case"end":return e.stop()}}),o)}var h,O={getErrors:u,clearErrors:d},f=r(13),g=r(65).fromJS,v=r(77).handleActions,w=r(71).default,y={msg:function(e){return e.getIn(["error","msg"])},status:function(e){return e.getIn(["error","status"])},id:function(e){return e.getIn(["error","id"])},error:function(e){return e.get("error").toJS()}},N=g({msg:{},status:null,id:null}),_=v((h={},Object(f.a)(h,w.GET_ERRORS_SUCCESS,(function(e,t){return e.set("msg",g(t.payload.msg)).set("status",t.payload.status).set("id",t.payload.id)})),Object(f.a)(h,w.CLEAR_ERRORS_SUCCESS,(function(e){return e.set("msg",{}).set("status",null).set("id",null)})),h),N);t.default=_},71:function(e,t,r){"use strict";r.r(t);var n={GET_ERRORS:"error/GET_ERRORS",GET_ERRORS_SUCCESS:"error/GET_ERRORS_SUCCESS",CLEAR_ERRORS:"error/CLEAR_ERRORS",CLEAR_ERRORS_SUCCESS:"error/CLEAR_ERRORS_SUCCESS"};t.default=n},72:function(e,t,r){"use strict";r.r(t);var n={GET_CATEGORIES:"categories/GET_CATEGORIES",GET_CATEGORIES_START:"categories/GET_CATEGORIES_START",GET_CATEGORIES_STOP:"categories/GET_CATEGORIES_STOP",GET_CATEGORIES_SUCCESS:"categories/GET_CATEGORIES_SUCCESS",GET_CATEGORIES_FAIL:"categories/GET_CATEGORIES_FAIL"};t.default=n}},[[394,1,2]]]);
//# sourceMappingURL=main.cc57d9eb.chunk.js.map