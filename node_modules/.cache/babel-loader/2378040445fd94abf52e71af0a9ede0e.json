{"ast":null,"code":"import { fromJS } from 'immutable';\nimport { handleActions } from 'redux-actions';\nimport types from './types';\nconst isAuthenticated = state => state.getIn(['user', 'isAuthenticated']);\nconst isLoading = state => state.getIn(['user', 'isLoading']);\nconst user = state => state.getIn(['user', 'user']);\nexport const selectors = {\n  isAuthenticated,\n  isLoading,\n  user\n};\nconst initialState = fromJS({\n  isAuthenticated: null,\n  isLoading: false,\n  user: null\n});\nconst loading = state => state.set('isLoading', true);\nconst update = (state, action) => state.set('user', fromJS(action.payload)).set('isLoading', false);\nconst success = (state, action) => state.set('isAuthenticated', true).set('isLoading', false).set('user', fromJS(action.payload));\nconst fail = state => state.set('isAuthenticated', false).set('isLoading', false).set('user', null);\nconst reducer = handleActions({\n  [types.USER_LOADING]: loading,\n  [types.USER_LOADED]: success,\n  [types.LOGIN_SUCCESS]: success,\n  [types.REGISTER_SUCCESS]: success,\n  [types.LOGIN_FAIL]: fail,\n  [types.REGISTER_FAIL]: fail,\n  [types.AUTH_ERROR]: fail,\n  [types.LOGOUT_SUCCESS]: fail,\n  [types.UPDATE_USER_SUCCESS]: update\n}, initialState);\nexport default reducer;","map":{"version":3,"names":["fromJS","handleActions","types","isAuthenticated","state","getIn","isLoading","user","selectors","initialState","loading","set","update","action","payload","success","fail","reducer","USER_LOADING","USER_LOADED","LOGIN_SUCCESS","REGISTER_SUCCESS","LOGIN_FAIL","REGISTER_FAIL","AUTH_ERROR","LOGOUT_SUCCESS","UPDATE_USER_SUCCESS"],"sources":["/home/vmo/Desktop/test/vmoflix-vn/src/state/modules/user/reducer.js"],"sourcesContent":["import { fromJS } from 'immutable';\nimport { handleActions } from 'redux-actions';\nimport types from './types';\n\nconst isAuthenticated = (state) => state.getIn(['user', 'isAuthenticated']);\nconst isLoading = (state) => state.getIn(['user', 'isLoading']);\nconst user = (state) => state.getIn(['user', 'user']);\n\nexport const selectors = {\n  isAuthenticated,\n  isLoading,\n  user,\n};\n\nconst initialState = fromJS({\n  isAuthenticated: null,\n  isLoading: false,\n  user: null,\n});\n\nconst loading = (state) => state.set('isLoading', true);\nconst update = (state, action) =>\n  state.set('user', fromJS(action.payload)).set('isLoading', false);\nconst success = (state, action) =>\n  state\n    .set('isAuthenticated', true)\n    .set('isLoading', false)\n    .set('user', fromJS(action.payload));\nconst fail = (state) =>\n  state.set('isAuthenticated', false).set('isLoading', false).set('user', null);\n\nconst reducer = handleActions(\n  {\n    [types.USER_LOADING]: loading,\n    [types.USER_LOADED]: success,\n    [types.LOGIN_SUCCESS]: success,\n    [types.REGISTER_SUCCESS]: success,\n    [types.LOGIN_FAIL]: fail,\n    [types.REGISTER_FAIL]: fail,\n    [types.AUTH_ERROR]: fail,\n    [types.LOGOUT_SUCCESS]: fail,\n    [types.UPDATE_USER_SUCCESS]: update,\n  },\n  initialState,\n);\n\nexport default reducer;\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,WAAW;AAClC,SAASC,aAAa,QAAQ,eAAe;AAC7C,OAAOC,KAAK,MAAM,SAAS;AAE3B,MAAMC,eAAe,GAAIC,KAAK,IAAKA,KAAK,CAACC,KAAK,CAAC,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;AAC3E,MAAMC,SAAS,GAAIF,KAAK,IAAKA,KAAK,CAACC,KAAK,CAAC,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;AAC/D,MAAME,IAAI,GAAIH,KAAK,IAAKA,KAAK,CAACC,KAAK,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAErD,OAAO,MAAMG,SAAS,GAAG;EACvBL,eAAe;EACfG,SAAS;EACTC;AACF,CAAC;AAED,MAAME,YAAY,GAAGT,MAAM,CAAC;EAC1BG,eAAe,EAAE,IAAI;EACrBG,SAAS,EAAE,KAAK;EAChBC,IAAI,EAAE;AACR,CAAC,CAAC;AAEF,MAAMG,OAAO,GAAIN,KAAK,IAAKA,KAAK,CAACO,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC;AACvD,MAAMC,MAAM,GAAGA,CAACR,KAAK,EAAES,MAAM,KAC3BT,KAAK,CAACO,GAAG,CAAC,MAAM,EAAEX,MAAM,CAACa,MAAM,CAACC,OAAO,CAAC,CAAC,CAACH,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC;AACnE,MAAMI,OAAO,GAAGA,CAACX,KAAK,EAAES,MAAM,KAC5BT,KAAK,CACFO,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAC5BA,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CACvBA,GAAG,CAAC,MAAM,EAAEX,MAAM,CAACa,MAAM,CAACC,OAAO,CAAC,CAAC;AACxC,MAAME,IAAI,GAAIZ,KAAK,IACjBA,KAAK,CAACO,GAAG,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAACA,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CAACA,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC;AAE/E,MAAMM,OAAO,GAAGhB,aAAa,CAC3B;EACE,CAACC,KAAK,CAACgB,YAAY,GAAGR,OAAO;EAC7B,CAACR,KAAK,CAACiB,WAAW,GAAGJ,OAAO;EAC5B,CAACb,KAAK,CAACkB,aAAa,GAAGL,OAAO;EAC9B,CAACb,KAAK,CAACmB,gBAAgB,GAAGN,OAAO;EACjC,CAACb,KAAK,CAACoB,UAAU,GAAGN,IAAI;EACxB,CAACd,KAAK,CAACqB,aAAa,GAAGP,IAAI;EAC3B,CAACd,KAAK,CAACsB,UAAU,GAAGR,IAAI;EACxB,CAACd,KAAK,CAACuB,cAAc,GAAGT,IAAI;EAC5B,CAACd,KAAK,CAACwB,mBAAmB,GAAGd;AAC/B,CAAC,EACDH,YAAY,CACb;AAED,eAAeQ,OAAO"},"metadata":{},"sourceType":"module"}