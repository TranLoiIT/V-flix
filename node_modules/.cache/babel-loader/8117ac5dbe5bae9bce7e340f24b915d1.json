{"ast":null,"code":"var _jsxFileName = \"/home/vmo/Desktop/demo/test/project-vtca/full-flim-vn/src/views/components/FilmListingsByGenre/index.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable indent */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable no-plusplus */\n/* eslint-disable max-len */\nimport { NEXT, PREV } from 'assets/variables/dir';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi';\nimport { useSelector } from 'react-redux';\nimport { userSelectors } from 'state/modules/user';\nimport handlers from 'utils/handlersSwipe';\nimport responsive from 'utils/responsive';\nimport CarouselContainer from '../CarouselContainer';\nimport List from './components/List';\nimport './style.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst listProcess = (data, numItemPerList) => {\n  const numList = Math.floor(data.length / numItemPerList);\n  const listFilmsProcessed = new Array(numList > 1 ? numList : 1);\n  for (let i = 0; i < listFilmsProcessed.length; i++) {\n    listFilmsProcessed[i] = [];\n  }\n  let h = 0;\n  if (numList >= 1) {\n    for (let i = 0; i < numList; i++) {\n      for (let j = 0; j < numItemPerList; j++) {\n        listFilmsProcessed[i][j] = data[h++];\n      }\n    }\n  } else {\n    listFilmsProcessed[0] = data;\n  }\n  return listFilmsProcessed;\n};\nconst FilmListingsByGenre = props => {\n  _s();\n  const {\n    numItemPerList,\n    margin\n  } = responsive();\n  const {\n    genre,\n    filmsFilter\n  } = props;\n  const isAuthenticated = useSelector(state => userSelectors.isAuthenticated(state));\n  const user = useSelector(state => userSelectors.user(state));\n  const listFilmsProcessed = listProcess(filmsFilter, numItemPerList);\n  const numItems = listFilmsProcessed.length;\n  const [firstNext, setFirstNext] = useState(false);\n  const [state, setState] = useState({\n    pos: 0,\n    sliding: false,\n    dir: NEXT\n  });\n  const getOrder = ({\n    index,\n    pos\n  }) => {\n    const order = index - pos < 0 ? numItems - Math.abs(index - pos) : index - pos;\n    return order;\n  };\n  const slide = dir => {\n    if (dir === NEXT) {\n      setState(newState => ({\n        ...newState,\n        dir: NEXT,\n        sliding: true,\n        pos: newState.pos === numItems - 1 ? 0 : newState.pos + 1\n      }));\n      setFirstNext(true);\n    } else if (dir === PREV) {\n      setState(newState => ({\n        ...newState,\n        dir: PREV,\n        sliding: true,\n        pos: newState.pos === 0 ? numItems - 1 : newState.pos - 1\n      }));\n    }\n    setTimeout(() => {\n      setState(newState => ({\n        ...newState,\n        sliding: false\n      }));\n    }, 50);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `filmListingsByGenre lg:mt-4 relative ${genre === 'recent' ? 'bg-listFilmAll' : genre === 'all' ? isAuthenticated ? user.get('history').toJS().length === 0 ? 'bg-listFilmAll' : null : 'bg-listFilmAll' : null}`,\n    ...handlers(slide),\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"filmListingsByGenre__title text-18 md:text-24 lg:text-26 xl:text-30 text-white font-bold mb-2 capitalize absolute top-0 left-4%\",\n      children: genre\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-hidden xl:pb-16 py-3rem md:py-4rem lg:py-4.5rem xl:py-5rem pl-4% flex w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: `filmListingsByGenre__control previous transition-all ${firstNext ? '' : 'opacity-0 invisible'}`,\n        onClick: () => slide(PREV),\n        children: /*#__PURE__*/_jsxDEV(FiChevronLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `filmListingsByGenre__control next ${listFilmsProcessed.length === 1 ? 'opacity-0 invisible' : ''}`,\n        onClick: () => slide(NEXT),\n        children: /*#__PURE__*/_jsxDEV(FiChevronRight, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CarouselContainer, {\n        dir: state.dir,\n        sliding: state.sliding,\n        value: \"0px\",\n        transition: \"all 1s ease-in-out\",\n        length: listFilmsProcessed.length,\n        children: listFilmsProcessed.map((list, index) => {\n          return /*#__PURE__*/_jsxDEV(List, {\n            numItemPerList: numItemPerList,\n            margin: margin,\n            films: list,\n            order: getOrder({\n              index,\n              pos: state.pos\n            }),\n            className: `${listFilmsProcessed.length === 1 ? '' : firstNext ? '' : 'first:opacity-0 first:invisible'}`\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(FilmListingsByGenre, \"ld0EOi2SP0O+70RQvbn4bLti20A=\", false, function () {\n  return [useSelector, useSelector];\n});\n_c = FilmListingsByGenre;\nFilmListingsByGenre.propTypes = {\n  genre: PropTypes.string.isRequired,\n  filmsFilter: PropTypes.array.isRequired\n};\nexport default _c2 = /*#__PURE__*/React.memo(FilmListingsByGenre);\nvar _c, _c2;\n$RefreshReg$(_c, \"FilmListingsByGenre\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["NEXT","PREV","PropTypes","React","useState","FiChevronLeft","FiChevronRight","useSelector","userSelectors","handlers","responsive","CarouselContainer","List","jsxDEV","_jsxDEV","listProcess","data","numItemPerList","numList","Math","floor","length","listFilmsProcessed","Array","i","h","j","FilmListingsByGenre","props","_s","margin","genre","filmsFilter","isAuthenticated","state","user","numItems","firstNext","setFirstNext","setState","pos","sliding","dir","getOrder","index","order","abs","slide","newState","setTimeout","className","get","toJS","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","transition","map","list","films","_c","propTypes","string","isRequired","array","_c2","memo","$RefreshReg$"],"sources":["/home/vmo/Desktop/demo/test/project-vtca/full-flim-vn/src/views/components/FilmListingsByGenre/index.js"],"sourcesContent":["/* eslint-disable react/no-array-index-key */\n/* eslint-disable indent */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable no-plusplus */\n/* eslint-disable max-len */\nimport { NEXT, PREV } from 'assets/variables/dir';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi';\nimport { useSelector } from 'react-redux';\nimport { userSelectors } from 'state/modules/user';\nimport handlers from 'utils/handlersSwipe';\nimport responsive from 'utils/responsive';\nimport CarouselContainer from '../CarouselContainer';\nimport List from './components/List';\nimport './style.scss';\n\nconst listProcess = (data, numItemPerList) => {\n  const numList = Math.floor(data.length / numItemPerList);\n  const listFilmsProcessed = new Array(numList > 1 ? numList : 1);\n\n  for (let i = 0; i < listFilmsProcessed.length; i++) {\n    listFilmsProcessed[i] = [];\n  }\n  let h = 0;\n  if (numList >= 1) {\n    for (let i = 0; i < numList; i++) {\n      for (let j = 0; j < numItemPerList; j++) {\n        listFilmsProcessed[i][j] = data[h++];\n      }\n    }\n  } else {\n    listFilmsProcessed[0] = data;\n  }\n\n  return listFilmsProcessed;\n};\n\nconst FilmListingsByGenre = (props) => {\n  const { numItemPerList, margin } = responsive();\n  const { genre, filmsFilter } = props;\n  const isAuthenticated = useSelector((state) =>\n    userSelectors.isAuthenticated(state),\n  );\n  const user = useSelector((state) => userSelectors.user(state));\n\n  const listFilmsProcessed = listProcess(filmsFilter, numItemPerList);\n  const numItems = listFilmsProcessed.length;\n\n  const [firstNext, setFirstNext] = useState(false);\n  const [state, setState] = useState({\n    pos: 0,\n    sliding: false,\n    dir: NEXT,\n  });\n\n  const getOrder = ({ index, pos }) => {\n    const order =\n      index - pos < 0 ? numItems - Math.abs(index - pos) : index - pos;\n    return order;\n  };\n\n  const slide = (dir) => {\n    if (dir === NEXT) {\n      setState((newState) => ({\n        ...newState,\n        dir: NEXT,\n        sliding: true,\n        pos: newState.pos === numItems - 1 ? 0 : newState.pos + 1,\n      }));\n      setFirstNext(true);\n    } else if (dir === PREV) {\n      setState((newState) => ({\n        ...newState,\n        dir: PREV,\n        sliding: true,\n        pos: newState.pos === 0 ? numItems - 1 : newState.pos - 1,\n      }));\n    }\n    setTimeout(() => {\n      setState((newState) => ({\n        ...newState,\n        sliding: false,\n      }));\n    }, 50);\n  };\n\n  return (\n    <div\n      className={`filmListingsByGenre lg:mt-4 relative ${\n        genre === 'recent'\n          ? 'bg-listFilmAll'\n          : genre === 'all'\n          ? isAuthenticated\n            ? user.get('history').toJS().length === 0\n              ? 'bg-listFilmAll'\n              : null\n            : 'bg-listFilmAll'\n          : null\n      }`}\n      {...handlers(slide)}\n    >\n      <h3 className='filmListingsByGenre__title text-18 md:text-24 lg:text-26 xl:text-30 text-white font-bold mb-2 capitalize absolute top-0 left-4%'>\n        {genre}\n      </h3>\n      <div className='overflow-x-hidden xl:pb-16 py-3rem md:py-4rem lg:py-4.5rem xl:py-5rem pl-4% flex w-full'>\n        <span\n          className={`filmListingsByGenre__control previous transition-all ${\n            firstNext ? '' : 'opacity-0 invisible'\n          }`}\n          onClick={() => slide(PREV)}\n        >\n          <FiChevronLeft />\n        </span>\n        <span\n          className={`filmListingsByGenre__control next ${\n            listFilmsProcessed.length === 1 ? 'opacity-0 invisible' : ''\n          }`}\n          onClick={() => slide(NEXT)}\n        >\n          <FiChevronRight />\n        </span>\n        <CarouselContainer\n          dir={state.dir}\n          sliding={state.sliding}\n          value='0px'\n          transition='all 1s ease-in-out'\n          length={listFilmsProcessed.length}\n        >\n          {listFilmsProcessed.map((list, index) => {\n            return (\n              <List\n                numItemPerList={numItemPerList}\n                margin={margin}\n                key={index}\n                films={list}\n                order={getOrder({ index, pos: state.pos })}\n                className={`${\n                  listFilmsProcessed.length === 1\n                    ? ''\n                    : firstNext\n                    ? ''\n                    : 'first:opacity-0 first:invisible'\n                }`}\n              />\n            );\n          })}\n        </CarouselContainer>\n      </div>\n    </div>\n  );\n};\n\nFilmListingsByGenre.propTypes = {\n  genre: PropTypes.string.isRequired,\n  filmsFilter: PropTypes.array.isRequired,\n};\n\nexport default React.memo(FilmListingsByGenre);\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,IAAI,EAAEC,IAAI,QAAQ,sBAAsB;AACjD,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,aAAa,EAAEC,cAAc,QAAQ,gBAAgB;AAC9D,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,aAAa,QAAQ,oBAAoB;AAClD,OAAOC,QAAQ,MAAM,qBAAqB;AAC1C,OAAOC,UAAU,MAAM,kBAAkB;AACzC,OAAOC,iBAAiB,MAAM,sBAAsB;AACpD,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtB,MAAMC,WAAW,GAAGA,CAACC,IAAI,EAAEC,cAAc,KAAK;EAC5C,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAACK,MAAM,GAAGJ,cAAc,CAAC;EACxD,MAAMK,kBAAkB,GAAG,IAAIC,KAAK,CAACL,OAAO,GAAG,CAAC,GAAGA,OAAO,GAAG,CAAC,CAAC;EAE/D,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,kBAAkB,CAACD,MAAM,EAAEG,CAAC,EAAE,EAAE;IAClDF,kBAAkB,CAACE,CAAC,CAAC,GAAG,EAAE;EAC5B;EACA,IAAIC,CAAC,GAAG,CAAC;EACT,IAAIP,OAAO,IAAI,CAAC,EAAE;IAChB,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,OAAO,EAAEM,CAAC,EAAE,EAAE;MAChC,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,cAAc,EAAES,CAAC,EAAE,EAAE;QACvCJ,kBAAkB,CAACE,CAAC,CAAC,CAACE,CAAC,CAAC,GAAGV,IAAI,CAACS,CAAC,EAAE,CAAC;MACtC;IACF;EACF,CAAC,MAAM;IACLH,kBAAkB,CAAC,CAAC,CAAC,GAAGN,IAAI;EAC9B;EAEA,OAAOM,kBAAkB;AAC3B,CAAC;AAED,MAAMK,mBAAmB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACrC,MAAM;IAAEZ,cAAc;IAAEa;EAAO,CAAC,GAAGpB,UAAU,CAAC,CAAC;EAC/C,MAAM;IAAEqB,KAAK;IAAEC;EAAY,CAAC,GAAGJ,KAAK;EACpC,MAAMK,eAAe,GAAG1B,WAAW,CAAE2B,KAAK,IACxC1B,aAAa,CAACyB,eAAe,CAACC,KAAK,CACrC,CAAC;EACD,MAAMC,IAAI,GAAG5B,WAAW,CAAE2B,KAAK,IAAK1B,aAAa,CAAC2B,IAAI,CAACD,KAAK,CAAC,CAAC;EAE9D,MAAMZ,kBAAkB,GAAGP,WAAW,CAACiB,WAAW,EAAEf,cAAc,CAAC;EACnE,MAAMmB,QAAQ,GAAGd,kBAAkB,CAACD,MAAM;EAE1C,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC8B,KAAK,EAAEK,QAAQ,CAAC,GAAGnC,QAAQ,CAAC;IACjCoC,GAAG,EAAE,CAAC;IACNC,OAAO,EAAE,KAAK;IACdC,GAAG,EAAE1C;EACP,CAAC,CAAC;EAEF,MAAM2C,QAAQ,GAAGA,CAAC;IAAEC,KAAK;IAAEJ;EAAI,CAAC,KAAK;IACnC,MAAMK,KAAK,GACTD,KAAK,GAAGJ,GAAG,GAAG,CAAC,GAAGJ,QAAQ,GAAGjB,IAAI,CAAC2B,GAAG,CAACF,KAAK,GAAGJ,GAAG,CAAC,GAAGI,KAAK,GAAGJ,GAAG;IAClE,OAAOK,KAAK;EACd,CAAC;EAED,MAAME,KAAK,GAAIL,GAAG,IAAK;IACrB,IAAIA,GAAG,KAAK1C,IAAI,EAAE;MAChBuC,QAAQ,CAAES,QAAQ,KAAM;QACtB,GAAGA,QAAQ;QACXN,GAAG,EAAE1C,IAAI;QACTyC,OAAO,EAAE,IAAI;QACbD,GAAG,EAAEQ,QAAQ,CAACR,GAAG,KAAKJ,QAAQ,GAAG,CAAC,GAAG,CAAC,GAAGY,QAAQ,CAACR,GAAG,GAAG;MAC1D,CAAC,CAAC,CAAC;MACHF,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC,MAAM,IAAII,GAAG,KAAKzC,IAAI,EAAE;MACvBsC,QAAQ,CAAES,QAAQ,KAAM;QACtB,GAAGA,QAAQ;QACXN,GAAG,EAAEzC,IAAI;QACTwC,OAAO,EAAE,IAAI;QACbD,GAAG,EAAEQ,QAAQ,CAACR,GAAG,KAAK,CAAC,GAAGJ,QAAQ,GAAG,CAAC,GAAGY,QAAQ,CAACR,GAAG,GAAG;MAC1D,CAAC,CAAC,CAAC;IACL;IACAS,UAAU,CAAC,MAAM;MACfV,QAAQ,CAAES,QAAQ,KAAM;QACtB,GAAGA,QAAQ;QACXP,OAAO,EAAE;MACX,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,EAAE,CAAC;EACR,CAAC;EAED,oBACE3B,OAAA;IACEoC,SAAS,EAAG,wCACVnB,KAAK,KAAK,QAAQ,GACd,gBAAgB,GAChBA,KAAK,KAAK,KAAK,GACfE,eAAe,GACbE,IAAI,CAACgB,GAAG,CAAC,SAAS,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC/B,MAAM,KAAK,CAAC,GACrC,gBAAgB,GAChB,IAAI,GACN,gBAAgB,GAClB,IACL,EAAE;IAAA,GACCZ,QAAQ,CAACsC,KAAK,CAAC;IAAAM,QAAA,gBAEnBvC,OAAA;MAAIoC,SAAS,EAAC,iIAAiI;MAAAG,QAAA,EAC5ItB;IAAK;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,eACL3C,OAAA;MAAKoC,SAAS,EAAC,yFAAyF;MAAAG,QAAA,gBACtGvC,OAAA;QACEoC,SAAS,EAAG,wDACVb,SAAS,GAAG,EAAE,GAAG,qBAClB,EAAE;QACHqB,OAAO,EAAEA,CAAA,KAAMX,KAAK,CAAC9C,IAAI,CAAE;QAAAoD,QAAA,eAE3BvC,OAAA,CAACT,aAAa;UAAAiD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACb,CAAC,eACP3C,OAAA;QACEoC,SAAS,EAAG,qCACV5B,kBAAkB,CAACD,MAAM,KAAK,CAAC,GAAG,qBAAqB,GAAG,EAC3D,EAAE;QACHqC,OAAO,EAAEA,CAAA,KAAMX,KAAK,CAAC/C,IAAI,CAAE;QAAAqD,QAAA,eAE3BvC,OAAA,CAACR,cAAc;UAAAgD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC,eACP3C,OAAA,CAACH,iBAAiB;QAChB+B,GAAG,EAAER,KAAK,CAACQ,GAAI;QACfD,OAAO,EAAEP,KAAK,CAACO,OAAQ;QACvBkB,KAAK,EAAC,KAAK;QACXC,UAAU,EAAC,oBAAoB;QAC/BvC,MAAM,EAAEC,kBAAkB,CAACD,MAAO;QAAAgC,QAAA,EAEjC/B,kBAAkB,CAACuC,GAAG,CAAC,CAACC,IAAI,EAAElB,KAAK,KAAK;UACvC,oBACE9B,OAAA,CAACF,IAAI;YACHK,cAAc,EAAEA,cAAe;YAC/Ba,MAAM,EAAEA,MAAO;YAEfiC,KAAK,EAAED,IAAK;YACZjB,KAAK,EAAEF,QAAQ,CAAC;cAAEC,KAAK;cAAEJ,GAAG,EAAEN,KAAK,CAACM;YAAI,CAAC,CAAE;YAC3CU,SAAS,EAAG,GACV5B,kBAAkB,CAACD,MAAM,KAAK,CAAC,GAC3B,EAAE,GACFgB,SAAS,GACT,EAAE,GACF,iCACL;UAAE,GATEO,KAAK;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAUX,CAAC;QAEN,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACe,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC5B,EAAA,CAjHIF,mBAAmB;EAAA,QAGCpB,WAAW,EAGtBA,WAAW;AAAA;AAAAyD,EAAA,GANpBrC,mBAAmB;AAmHzBA,mBAAmB,CAACsC,SAAS,GAAG;EAC9BlC,KAAK,EAAE7B,SAAS,CAACgE,MAAM,CAACC,UAAU;EAClCnC,WAAW,EAAE9B,SAAS,CAACkE,KAAK,CAACD;AAC/B,CAAC;AAED,eAAAE,GAAA,gBAAelE,KAAK,CAACmE,IAAI,CAAC3C,mBAAmB,CAAC;AAAC,IAAAqC,EAAA,EAAAK,GAAA;AAAAE,YAAA,CAAAP,EAAA;AAAAO,YAAA,CAAAF,GAAA"},"metadata":{},"sourceType":"module"}