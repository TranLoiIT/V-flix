{"ast":null,"code":"var _jsxFileName = \"/home/vmo/Desktop/test/vmoflix-vn/src/views/components/FilmListingsByGenre/index.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable indent */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable no-plusplus */\n/* eslint-disable max-len */\nimport { NEXT, PREV } from 'assets/variables/dir';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi';\nimport { useSelector } from 'react-redux';\nimport { userSelectors } from 'state/modules/user';\nimport handlers from 'utils/handlersSwipe';\nimport responsive from 'utils/responsive';\nimport CarouselContainer from '../CarouselContainer';\nimport List from './components/List';\nimport './style.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst listProcess = (data, numItemPerList) => {\n  const numList = Math.floor(data.length / numItemPerList);\n  const listFilmsProcessed = new Array(numList > 1 ? numList : 1);\n  for (let i = 0; i < listFilmsProcessed.length; i++) {\n    listFilmsProcessed[i] = [];\n  }\n  let h = 0;\n  if (numList >= 1) {\n    for (let i = 0; i < numList; i++) {\n      for (let j = 0; j < numItemPerList; j++) {\n        listFilmsProcessed[i][j] = data[h++];\n      }\n    }\n  } else {\n    listFilmsProcessed[0] = data;\n  }\n  return listFilmsProcessed;\n};\nconst FilmListingsByGenre = props => {\n  _s();\n  const {\n    numItemPerList,\n    margin\n  } = responsive();\n  const {\n    genre,\n    filmsFilter\n  } = props;\n  const isAuthenticated = useSelector(state => userSelectors.isAuthenticated(state));\n  const user = useSelector(state => userSelectors.user(state));\n  const listFilmsProcessed = listProcess(filmsFilter, numItemPerList);\n  const numItems = listFilmsProcessed.length;\n  const [firstNext, setFirstNext] = useState(false);\n  const [state, setState] = useState({\n    pos: 0,\n    sliding: false,\n    dir: NEXT\n  });\n  const getOrder = _ref => {\n    let {\n      index,\n      pos\n    } = _ref;\n    const order = index - pos < 0 ? numItems - Math.abs(index - pos) : index - pos;\n    return order;\n  };\n  const slide = dir => {\n    if (dir === NEXT) {\n      setState(newState => ({\n        ...newState,\n        dir: NEXT,\n        sliding: true,\n        pos: newState.pos === numItems - 1 ? 0 : newState.pos + 1\n      }));\n      setFirstNext(true);\n    } else if (dir === PREV) {\n      setState(newState => ({\n        ...newState,\n        dir: PREV,\n        sliding: true,\n        pos: newState.pos === 0 ? numItems - 1 : newState.pos - 1\n      }));\n    }\n    setTimeout(() => {\n      setState(newState => ({\n        ...newState,\n        sliding: false\n      }));\n    }, 50);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `filmListingsByGenre lg:mt-4 relative ${genre === 'recent' ? 'bg-listFilmAll' : genre === 'all' ? isAuthenticated ? user.get('history').toJS().length === 0 ? 'bg-listFilmAll' : null : 'bg-listFilmAll' : null}`,\n    ...handlers(slide),\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"filmListingsByGenre__title text-18 md:text-24 lg:text-26 xl:text-30 text-white font-bold mb-2 capitalize absolute top-0 left-4%\",\n      children: genre\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-hidden xl:pb-16 py-3rem md:py-4rem lg:py-4.5rem xl:py-5rem pl-4% flex w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: `filmListingsByGenre__control previous transition-all ${firstNext ? '' : 'opacity-0 invisible'}`,\n        onClick: () => slide(PREV),\n        children: /*#__PURE__*/_jsxDEV(FiChevronLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `filmListingsByGenre__control next ${listFilmsProcessed.length === 1 ? 'opacity-0 invisible' : ''}`,\n        onClick: () => slide(NEXT),\n        children: /*#__PURE__*/_jsxDEV(FiChevronRight, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CarouselContainer, {\n        dir: state.dir,\n        sliding: state.sliding,\n        value: \"0px\",\n        transition: \"all 1s ease-in-out\",\n        length: listFilmsProcessed.length,\n        children: listFilmsProcessed.map((list, index) => {\n          return /*#__PURE__*/_jsxDEV(List, {\n            numItemPerList: numItemPerList,\n            margin: margin,\n            films: list,\n            order: getOrder({\n              index,\n              pos: state.pos\n            }),\n            className: `${listFilmsProcessed.length === 1 ? '' : firstNext ? '' : 'first:opacity-0 first:invisible'}`\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(FilmListingsByGenre, \"ld0EOi2SP0O+70RQvbn4bLti20A=\", false, function () {\n  return [useSelector, useSelector];\n});\n_c = FilmListingsByGenre;\nFilmListingsByGenre.propTypes = {\n  genre: PropTypes.string.isRequired,\n  filmsFilter: PropTypes.array.isRequired\n};\nexport default _c2 = /*#__PURE__*/React.memo(FilmListingsByGenre);\nvar _c, _c2;\n$RefreshReg$(_c, \"FilmListingsByGenre\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["NEXT","PREV","PropTypes","React","useState","FiChevronLeft","FiChevronRight","useSelector","userSelectors","handlers","responsive","CarouselContainer","List","jsxDEV","_jsxDEV","listProcess","data","numItemPerList","numList","Math","floor","length","listFilmsProcessed","Array","i","h","j","FilmListingsByGenre","props","_s","margin","genre","filmsFilter","isAuthenticated","state","user","numItems","firstNext","setFirstNext","setState","pos","sliding","dir","getOrder","_ref","index","order","abs","slide","newState","setTimeout","className","get","toJS","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","transition","map","list","films","_c","propTypes","string","isRequired","array","_c2","memo","$RefreshReg$"],"sources":["/home/vmo/Desktop/test/vmoflix-vn/src/views/components/FilmListingsByGenre/index.js"],"sourcesContent":["/* eslint-disable react/no-array-index-key */\n/* eslint-disable indent */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable no-plusplus */\n/* eslint-disable max-len */\nimport { NEXT, PREV } from 'assets/variables/dir';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi';\nimport { useSelector } from 'react-redux';\nimport { userSelectors } from 'state/modules/user';\nimport handlers from 'utils/handlersSwipe';\nimport responsive from 'utils/responsive';\nimport CarouselContainer from '../CarouselContainer';\nimport List from './components/List';\nimport './style.scss';\n\nconst listProcess = (data, numItemPerList) => {\n  const numList = Math.floor(data.length / numItemPerList);\n  const listFilmsProcessed = new Array(numList > 1 ? numList : 1);\n\n  for (let i = 0; i < listFilmsProcessed.length; i++) {\n    listFilmsProcessed[i] = [];\n  }\n  let h = 0;\n  if (numList >= 1) {\n    for (let i = 0; i < numList; i++) {\n      for (let j = 0; j < numItemPerList; j++) {\n        listFilmsProcessed[i][j] = data[h++];\n      }\n    }\n  } else {\n    listFilmsProcessed[0] = data;\n  }\n\n  return listFilmsProcessed;\n};\n\nconst FilmListingsByGenre = (props) => {\n  const { numItemPerList, margin } = responsive();\n  const { genre, filmsFilter } = props;\n  const isAuthenticated = useSelector((state) =>\n    userSelectors.isAuthenticated(state),\n  );\n  const user = useSelector((state) => userSelectors.user(state));\n\n  const listFilmsProcessed = listProcess(filmsFilter, numItemPerList);\n  const numItems = listFilmsProcessed.length;\n\n  const [firstNext, setFirstNext] = useState(false);\n  const [state, setState] = useState({\n    pos: 0,\n    sliding: false,\n    dir: NEXT,\n  });\n\n  const getOrder = ({ index, pos }) => {\n    const order =\n      index - pos < 0 ? numItems - Math.abs(index - pos) : index - pos;\n    return order;\n  };\n\n  const slide = (dir) => {\n    if (dir === NEXT) {\n      setState((newState) => ({\n        ...newState,\n        dir: NEXT,\n        sliding: true,\n        pos: newState.pos === numItems - 1 ? 0 : newState.pos + 1,\n      }));\n      setFirstNext(true);\n    } else if (dir === PREV) {\n      setState((newState) => ({\n        ...newState,\n        dir: PREV,\n        sliding: true,\n        pos: newState.pos === 0 ? numItems - 1 : newState.pos - 1,\n      }));\n    }\n    setTimeout(() => {\n      setState((newState) => ({\n        ...newState,\n        sliding: false,\n      }));\n    }, 50);\n  };\n\n  return (\n    <div\n      className={`filmListingsByGenre lg:mt-4 relative ${\n        genre === 'recent'\n          ? 'bg-listFilmAll'\n          : genre === 'all'\n          ? isAuthenticated\n            ? user.get('history').toJS().length === 0\n              ? 'bg-listFilmAll'\n              : null\n            : 'bg-listFilmAll'\n          : null\n      }`}\n      {...handlers(slide)}\n    >\n      <h3 className='filmListingsByGenre__title text-18 md:text-24 lg:text-26 xl:text-30 text-white font-bold mb-2 capitalize absolute top-0 left-4%'>\n        {genre}\n      </h3>\n      <div className='overflow-x-hidden xl:pb-16 py-3rem md:py-4rem lg:py-4.5rem xl:py-5rem pl-4% flex w-full'>\n        <span\n          className={`filmListingsByGenre__control previous transition-all ${\n            firstNext ? '' : 'opacity-0 invisible'\n          }`}\n          onClick={() => slide(PREV)}\n        >\n          <FiChevronLeft />\n        </span>\n        <span\n          className={`filmListingsByGenre__control next ${\n            listFilmsProcessed.length === 1 ? 'opacity-0 invisible' : ''\n          }`}\n          onClick={() => slide(NEXT)}\n        >\n          <FiChevronRight />\n        </span>\n        <CarouselContainer\n          dir={state.dir}\n          sliding={state.sliding}\n          value='0px'\n          transition='all 1s ease-in-out'\n          length={listFilmsProcessed.length}\n        >\n          {listFilmsProcessed.map((list, index) => {\n            return (\n              <List\n                numItemPerList={numItemPerList}\n                margin={margin}\n                key={index}\n                films={list}\n                order={getOrder({ index, pos: state.pos })}\n                className={`${\n                  listFilmsProcessed.length === 1\n                    ? ''\n                    : firstNext\n                    ? ''\n                    : 'first:opacity-0 first:invisible'\n                }`}\n              />\n            );\n          })}\n        </CarouselContainer>\n      </div>\n    </div>\n  );\n};\n\nFilmListingsByGenre.propTypes = {\n  genre: PropTypes.string.isRequired,\n  filmsFilter: PropTypes.array.isRequired,\n};\n\nexport default React.memo(FilmListingsByGenre);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}