{"ast":null,"code":"var _jsxFileName = \"/home/vmo/Desktop/demo/test/project-vtca/full-flim-vn/src/views/pages/Home/index.js\",\n  _s = $RefreshSig$();\n/* eslint-disable func-names */\n/* eslint-disable react/no-array-index-key */\nimport { getFilmsFilterApi, getFilmsRecentApi } from 'apis/filmApi';\nimport React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\nimport { userSelectors } from 'state/modules/user';\nimport { Loading } from 'utils/Loadable';\nimport Banner from 'views/components/Banner';\nimport FilmListingsByGenre from 'views/components/FilmListingsByGenre';\nimport './style.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HomePage = props => {\n  _s();\n  const [data, setData] = useState([]);\n  const [recent, setRecent] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const isAuthenticated = useSelector(state => userSelectors.isAuthenticated(state));\n  const user = useSelector(state => userSelectors.user(state));\n  useEffect(() => {\n    (async function () {\n      try {\n        setLoading(true);\n        const responseAll = await getFilmsFilterApi('');\n        setData(responseAll.data);\n        setLoading(false);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    (async function () {\n      if (isAuthenticated) {\n        try {\n          const responseAll = await getFilmsRecentApi(user.get('history').toJS());\n          setRecent(responseAll.data);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    })();\n    // eslint-disable-next-line\n  }, [isAuthenticated]);\n  console.log('recent', recent);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"VMOflix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home pb-20\",\n        children: [/*#__PURE__*/_jsxDEV(Banner, {\n          films: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filmListingsByGenre__wrap -mt-8rem md:-mt-14rem 2xl:-mt-30rem\",\n          children: [isAuthenticated && user.get('history').toJS().length !== 0 ? /*#__PURE__*/_jsxDEV(FilmListingsByGenre, {\n            filmsFilter: recent,\n            genre: \"recent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this) : null, ['all', 'drama', 'fantasy', 'action', 'adventure', 'mystery'].map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(FilmListingsByGenre, {\n              filmsFilter: data.filter(film => {\n                if (item === 'all') {\n                  return true;\n                }\n                return film.genre.indexOf(item) !== -1;\n              }),\n              genre: item\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)]\n  }, void 0, true);\n};\n_s(HomePage, \"rctdxCxVkGyTwegweJs3/GTFSE8=\", false, function () {\n  return [useSelector, useSelector];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["getFilmsFilterApi","getFilmsRecentApi","React","useEffect","useState","Helmet","useSelector","userSelectors","Loading","Banner","FilmListingsByGenre","jsxDEV","_jsxDEV","Fragment","_Fragment","HomePage","props","_s","data","setData","recent","setRecent","loading","setLoading","isAuthenticated","state","user","responseAll","error","console","log","get","toJS","children","fileName","_jsxFileName","lineNumber","columnNumber","className","films","length","filmsFilter","genre","map","item","index","filter","film","indexOf","_c","$RefreshReg$"],"sources":["/home/vmo/Desktop/demo/test/project-vtca/full-flim-vn/src/views/pages/Home/index.js"],"sourcesContent":["/* eslint-disable func-names */\n/* eslint-disable react/no-array-index-key */\nimport { getFilmsFilterApi, getFilmsRecentApi } from 'apis/filmApi';\nimport React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\nimport { userSelectors } from 'state/modules/user';\nimport { Loading } from 'utils/Loadable';\nimport Banner from 'views/components/Banner';\nimport FilmListingsByGenre from 'views/components/FilmListingsByGenre';\nimport './style.scss';\n\nconst HomePage = (props) => {\n  const [data, setData] = useState([]);\n  const [recent, setRecent] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const isAuthenticated = useSelector((state) =>\n    userSelectors.isAuthenticated(state),\n  );\n  const user = useSelector((state) => userSelectors.user(state));\n\n  useEffect(() => {\n    (async function () {\n      try {\n        setLoading(true);\n        const responseAll = await getFilmsFilterApi('');\n        setData(responseAll.data);\n        setLoading(false);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    (async function () {\n      if (isAuthenticated) {\n        try {\n          const responseAll = await getFilmsRecentApi(user.get('history').toJS());\n          setRecent(responseAll.data);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    })();\n    // eslint-disable-next-line\n  }, [isAuthenticated]);\n\n  console.log('recent', recent)\n\n  return (\n    <>\n      <Helmet>\n        <title>VMOflix</title>\n      </Helmet>\n      {loading ? (\n        <Loading />\n      ) : (\n        <>\n          <div className='home pb-20'>\n            <Banner films={data} />\n            <div className='filmListingsByGenre__wrap -mt-8rem md:-mt-14rem 2xl:-mt-30rem'>\n              {isAuthenticated && user.get('history').toJS().length !== 0 ? (\n                <FilmListingsByGenre filmsFilter={recent} genre='recent' />\n              ) : null}\n              {[\n                'all',\n                'drama',\n                'fantasy',\n                'action',\n                'adventure',\n                'mystery',\n              ].map((item, index) => {\n                return (\n                  <FilmListingsByGenre\n                    filmsFilter={data.filter((film) => {\n                      if (item === 'all') {\n                        return true;\n                      }\n                      return film.genre.indexOf(item) !== -1;\n                    })}\n                    genre={item}\n                    key={index}\n                  />\n                );\n              })}\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}